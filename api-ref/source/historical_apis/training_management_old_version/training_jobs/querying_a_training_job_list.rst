:original_name: modelarts_03_0046.html

.. _modelarts_03_0046:

Querying a Training Job List
============================

Function
--------

This API is used to obtain the created training jobs that meet the search criteria.

URI
---

GET /v1/{project_id}/training-jobs

:ref:`Table 1 <en-us_topic_0000002374856605__table16518993181628>` describes the required parameters.

.. _en-us_topic_0000002374856605__table16518993181628:

.. table:: **Table 1** URI parameters

   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                                                               |
   +============+===========+========+===========================================================================================================================+
   | project_id | Yes       | String | Project ID. For details about how to obtain a project ID, see :ref:`Obtaining a Project ID and Name <modelarts_03_0147>`. |
   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 2** Query parameters

   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                                                                                                |
   +=================+=================+=================+============================================================================================================================================================================================================================================+
   | status          | No              | String          | Job status. By default, all job statuses are returned. For example, to obtain failed jobs, set the value of **status** to **3**, **5**, **6**, or **13**. For details about the job statuses, see :ref:`Job Statuses <modelarts_03_0074>`. |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | per_page        | No              | Integer         | Number of jobs displayed on each page. The value range is [1, 1000]. Default value: **10**                                                                                                                                                 |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | page            | No              | Integer         | Index of the page to be queried. Default value: **1** The value range is [1, 65535].                                                                                                                                                       |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sortBy          | No              | String          | Sorting mode of the query. The value can be **job_name**, **job_desc**, **status**, **duration**, **version_count**, or **create_time**. Default value: **job_name**                                                                       |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | order           | No              | String          | Sorting order. Options:                                                                                                                                                                                                                    |
   |                 |                 |                 |                                                                                                                                                                                                                                            |
   |                 |                 |                 | -  **asc**: ascending order. It is the default value.                                                                                                                                                                                      |
   |                 |                 |                 | -  **desc**: descending order                                                                                                                                                                                                              |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | search_content  | No              | String          | Search content, for example, a training job name. The value must contain 0 to 64 characters. By default, this parameter is left blank.                                                                                                     |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | workspace_id    | No              | String          | Workspace where a job resides. Default value: **0**                                                                                                                                                                                        |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Body
------------

None

Response Body
-------------

:ref:`Table 3 <en-us_topic_0000002374856605__table31621671103510>` describes the response parameters.

.. _en-us_topic_0000002374856605__table31621671103510:

.. table:: **Table 3** Parameters

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                       |
   +=======================+=======================+===================================================================================================================+
   | is_success            | Boolean               | Whether the request is successful                                                                                 |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------+
   | error_message         | String                | Error message of a failed API call.                                                                               |
   |                       |                       |                                                                                                                   |
   |                       |                       | This parameter is not included when the API call succeeds.                                                        |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------+
   | error_code            | String                | Error code of a failed API call. For details, see :ref:`Error Codes <modelarts_03_0095>`.                         |
   |                       |                       |                                                                                                                   |
   |                       |                       | This parameter is not included when the API call succeeds.                                                        |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------+
   | job_total_count       | Integer               | Total number of created jobs                                                                                      |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------+
   | job_count_limit       | Integer               | Number of training jobs that can be created                                                                       |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------+
   | jobs                  | **jobs** array        | Attributes of a training job. For details, see :ref:`Table 4 <en-us_topic_0000002374856605__table3971109103614>`. |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------+
   | quotas                | Integer               | Maximum number of training jobs                                                                                   |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374856605__table3971109103614:

.. table:: **Table 4** **jobs** parameters

   +---------------+--------+------------------------------------------------------------------------------------------------------------+
   | Parameter     | Type   | Description                                                                                                |
   +===============+========+============================================================================================================+
   | job_id        | Long   | ID of a training job                                                                                       |
   +---------------+--------+------------------------------------------------------------------------------------------------------------+
   | job_name      | String | Name of a training job                                                                                     |
   +---------------+--------+------------------------------------------------------------------------------------------------------------+
   | version_id    | Long   | Version ID of a training job                                                                               |
   +---------------+--------+------------------------------------------------------------------------------------------------------------+
   | status        | Int    | Status of a training job. For details about the job statuses, see :ref:`Job Statuses <modelarts_03_0074>`. |
   +---------------+--------+------------------------------------------------------------------------------------------------------------+
   | create_time   | Long   | Timestamp when a training job is created                                                                   |
   +---------------+--------+------------------------------------------------------------------------------------------------------------+
   | duration      | Long   | Training job running duration, in milliseconds                                                             |
   +---------------+--------+------------------------------------------------------------------------------------------------------------+
   | job_desc      | String | Description of a training job                                                                              |
   +---------------+--------+------------------------------------------------------------------------------------------------------------+
   | version_count | Long   | Number of versions of a training job                                                                       |
   +---------------+--------+------------------------------------------------------------------------------------------------------------+

Sample Request
--------------

The following shows how to obtain training jobs in the **7** state and with name containing **job** on the first page. Each page displays 10 records sorted by **job_name** in ascending order.

.. code-block:: text

   GET    https://endpoint/v1/{project_id}/training-jobs?status=7&per_page=10&page=1&sortBy=job_name&order=asc&search_content=job

Sample Response
---------------

-  Successful response

   .. code-block::

      {
          "is_success": true,
          "quotas": 5,
          "job_total_count": 1,
          "job_count_limit": 3,
          "jobs": [
              {
                  "job_id": 10,
                  "job_name": "testModelArtsJob",
                  "version_id": 10,
                  "status": 10,
                  "create_time": 1524189990635,
                  "duration": 532003,
                  "job_desc": "This is ModelArts job",
                  "version_count": 5
              }
          ]
      }

-  Failed response

   .. code-block::

      {
          "is_success": false,
          "error_message": "Error string",
          "error_code": "ModelArts.0105"

      }

Status Code
-----------

For details about the status code, see :ref:`Status Code <modelarts_03_0094>`.
