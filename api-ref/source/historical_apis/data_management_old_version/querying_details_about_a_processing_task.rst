:original_name: DescribeProcessorTask.html

.. _DescribeProcessorTask:

Querying Details About a Processing Task
========================================

Function
--------

This API is used to obtain details about processing tasks, including feature analysis tasks and data processing tasks. You can specify the **task_id** parameter to obtain the details about a specific task.

Debugging
---------

You can debug this API through automatic authentication in or use the SDK sample code generated by API Explorer.

URI
---

GET /v2/{project_id}/processor-tasks/{task_id}

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                                                               |
   +============+===========+========+===========================================================================================================================+
   | project_id | Yes       | String | Project ID. For details about how to obtain a project ID, see :ref:`Obtaining a Project ID and Name <modelarts_03_0147>`. |
   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------+
   | task_id    | Yes       | String | ID of a data processing task.                                                                                             |
   +------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

None

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 2** Response body parameters

   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                                     | Description                                                                                                                                               |
   +=======================+==========================================================================================================+===========================================================================================================================================================+
   | create_time           | Long                                                                                                     | Time when a data processing task is created.                                                                                                              |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | data_source           | :ref:`ProcessorDataSource <en-us_topic_0000002374856613__response_processordatasource>` object           | Input of a data processing task. Either this parameter or **inputs** is delivered.                                                                        |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description           | String                                                                                                   | Description of a data processing task.                                                                                                                    |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | duration_seconds      | Integer                                                                                                  | Running time of data processing, in seconds.                                                                                                              |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | error_msg             | String                                                                                                   | Error message. This field is displayed when the value of status is **3**.                                                                                 |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | inputs                | Array of :ref:`ProcessorDataSource <en-us_topic_0000002374856613__response_processordatasource>` objects | Input channel list of a data processing task. Either this parameter or **data_source** is delivered.                                                      |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | is_current            | Boolean                                                                                                  | Whether the current task is the latest of the same type of this version.                                                                                  |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                                                                                                   | Name of a data processing task.                                                                                                                           |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | result                | Object                                                                                                   | Output result of a data processing task. This field is displayed when status is set to **2** and is valid for a feature analysis task.                    |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | Integer                                                                                                  | Status of a data processing task. Options:                                                                                                                |
   |                       |                                                                                                          |                                                                                                                                                           |
   |                       |                                                                                                          | -  **0**: initialized                                                                                                                                     |
   |                       |                                                                                                          |                                                                                                                                                           |
   |                       |                                                                                                          | -  **1**: running                                                                                                                                         |
   |                       |                                                                                                          |                                                                                                                                                           |
   |                       |                                                                                                          | -  **2**: completed                                                                                                                                       |
   |                       |                                                                                                          |                                                                                                                                                           |
   |                       |                                                                                                          | -  **3**: failed                                                                                                                                          |
   |                       |                                                                                                          |                                                                                                                                                           |
   |                       |                                                                                                          | -  **4**: stopped                                                                                                                                         |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | task_id               | String                                                                                                   | ID of a data processing task.                                                                                                                             |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | template              | :ref:`TemplateParam <en-us_topic_0000002374856613__response_templateparam>` object                       | Data processing template, such as the algorithm ID and parameters.                                                                                        |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | version_count         | Integer                                                                                                  | Version number of a data processing task.                                                                                                                 |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | version_id            | String                                                                                                   | Dataset version ID corresponding to a data processing task.                                                                                               |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | version_name          | String                                                                                                   | Dataset version name corresponding to a data processing task.                                                                                             |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | work_path             | :ref:`WorkPath <en-us_topic_0000002374856613__response_workpath>` object                                 | Working directory of a data processing task.                                                                                                              |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | workspace_id          | String                                                                                                   | Workspace ID of a data processing task. If no workspace is created, the default value is **0**. If a workspace is created and used, use the actual value. |
   +-----------------------+----------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374856613__response_processordatasource:

.. table:: **Table 3** ProcessorDataSource

   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                  |
   +=======================+=======================+==============================================================================================================================================================================+
   | name                  | String                | Dataset name.                                                                                                                                                                |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | source                | String                | Data source path. Options:                                                                                                                                                   |
   |                       |                       |                                                                                                                                                                              |
   |                       |                       | -  If **type** is set to **OBS**, **source** is an OBS path.                                                                                                                 |
   |                       |                       |                                                                                                                                                                              |
   |                       |                       | -  If **type** is set to **TASK**, **source** is a task ID.                                                                                                                  |
   |                       |                       |                                                                                                                                                                              |
   |                       |                       | -  If **type** is set to **DATASET**, **source** is a dataset ID.                                                                                                            |
   |                       |                       |                                                                                                                                                                              |
   |                       |                       | -  If **type** is set to **CUSTOM** and the API is called by resource tenants, set **source** to the **project_id** of the actual user. Otherwise, this field is left blank. |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | type                  | String                | Data source type. Options:                                                                                                                                                   |
   |                       |                       |                                                                                                                                                                              |
   |                       |                       | -  **OBS**: Data obtained from OBS                                                                                                                                           |
   |                       |                       |                                                                                                                                                                              |
   |                       |                       | -  **TASK**: Data processing task                                                                                                                                            |
   |                       |                       |                                                                                                                                                                              |
   |                       |                       | -  **DATASET**: Dataset                                                                                                                                                      |
   |                       |                       |                                                                                                                                                                              |
   |                       |                       | -  **CUSTOM**: Data called by resource tenants                                                                                                                               |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | version_id            | String                | Version of a dataset.                                                                                                                                                        |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | version_name          | String                | Dataset version name.                                                                                                                                                        |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374856613__response_templateparam:

.. table:: **Table 4** TemplateParam

   +-----------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
   | Parameter             | Type                                                                                         | Description                                                        |
   +=======================+==============================================================================================+====================================================================+
   | id                    | String                                                                                       | Task type, which is the ID of a data processing template. Options: |
   |                       |                                                                                              |                                                                    |
   |                       |                                                                                              | -  **sys_data_analyse**: feature analysis                          |
   |                       |                                                                                              |                                                                    |
   |                       |                                                                                              | -  **sys_data_cleaning**: data cleansing                           |
   |                       |                                                                                              |                                                                    |
   |                       |                                                                                              | -  **sys_data_augmentation**: data augmentation                    |
   |                       |                                                                                              |                                                                    |
   |                       |                                                                                              | -  **sys_data_validation**: data validation                        |
   |                       |                                                                                              |                                                                    |
   |                       |                                                                                              | -  **sys_data_selection**: data filtering                          |
   +-----------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
   | name                  | String                                                                                       | Template name.                                                     |
   +-----------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------------------+
   | operator_params       | Array of :ref:`OperatorParam <en-us_topic_0000002374856613__response_operatorparam>` objects | Operator parameter list.                                           |
   +-----------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------------------+

.. _en-us_topic_0000002374856613__response_operatorparam:

.. table:: **Table 5** OperatorParam

   +------------------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter              | Type    | Description                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +========================+=========+================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | advanced_params_switch | Boolean | Advanced parameter switch.                                                                                                                                                                                                                                                                                                                                                                                                     |
   +------------------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                     | String  | ID of an operator.                                                                                                                                                                                                                                                                                                                                                                                                             |
   +------------------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                   | String  | Name of an operator.                                                                                                                                                                                                                                                                                                                                                                                                           |
   +------------------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | params                 | Object  | Operator parameter. The parameter type is map<string,object>. Currently, object only supports the types of Boolean, Integer, Long, String, List[/topic/body/section/table/tgroup/tbody/row/entry/p/br {""}) (br] and Map<String,String>. For two special scenarios of object detection and image classification in a data preprocessing task, the value of **task_type** is **object_detection** or **image_classification**.  |
   +------------------------+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374856613__response_workpath:

.. table:: **Table 6** WorkPath

   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                              |
   +=======================+=======================+==========================================================================================================================================+
   | name                  | String                | Dataset name.                                                                                                                            |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | output_path           | String                | Output path, for example, /datasets/demo.                                                                                                |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | path                  | String                | Working path. Options:                                                                                                                   |
   |                       |                       |                                                                                                                                          |
   |                       |                       | -  If **type** is set to **OBS**, **source** is an OBS path.                                                                             |
   |                       |                       |                                                                                                                                          |
   |                       |                       | -  If **type** is set to **DATASET**, **source** is a dataset ID.                                                                        |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | type                  | String                | Type of a working path. Options:                                                                                                         |
   |                       |                       |                                                                                                                                          |
   |                       |                       | -  **OBS**: OBS path                                                                                                                     |
   |                       |                       |                                                                                                                                          |
   |                       |                       | -  **DATASET**: dataset                                                                                                                  |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | version_id            | String                | Version of a dataset.                                                                                                                    |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------+
   | version_name          | String                | Name of a dataset version. The value can contain 0 to 32 characters. Only digits, letters, underscores (_), and hyphens (-) are allowed. |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------------------------------------------------------+

Example Requests
----------------

Querying Details About a Data Processing Task

.. code-block:: text

   GET https://{endpoint}/v2/{project_id}/processor-tasks/{task_id}

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   {
     "task_id" : "AcYfsdfhGyrWL5TtahH",
     "name" : "V002",
     "data_source" : {
       "type" : "DATASET",
       "source" : "X6c3N3eztX7cr3Arvqu"
     },
     "inputs" : [ {
       "type" : "DATASET",
       "source" : "X6c3N3eztX7cr3Arvqu"
     } ],
     "template" : {
       "id" : "sys_data_analyse",
       "name" : "data analyse template name",
       "operator_params" : [ {
         "id" : "sys_data_analyse",
         "params" : {
           "op_list" : [ ],
           "task_type" : "image_classification",
           "manifest_path" : "s3://lch-test-obs/classify/output/dataset-3026-X6c3N3eztX7cr3Arvqu/annotation/V002/V002.manifest",
           "file_path" : "s3://lch-test-obs/classify/output/dataset-3026-X6c3N3eztX7cr3Arvqu/annotation/evaluation/V002",
           "is_normed" : false
         }
       } ]
     },
     "status" : 2,
     "duration_seconds" : 22,
     "create_time" : 1606373999627,
     "result" : "xxx",
     "version_id" : "XwTuRqI9En7xuZskW70",
     "is_current" : true
   }

Status Codes
------------

=========== ============
Status Code Description
=========== ============
200         OK
401         Unauthorized
403         Forbidden
404         Not Found
=========== ============

Error Codes
-----------

See :ref:`Error Codes <modelarts_03_0095>`.
