:original_name: CreateAlgorithm.html

.. _CreateAlgorithm:

Creating an Algorithm
=====================

Function
--------

This API is used to create an algorithm.

Debugging
---------

You can debug this API through automatic authentication in or use the SDK sample code generated by API Explorer.

URI
---

POST /v2/{project_id}/algorithms

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                              |
   +============+===========+========+==========================================================================================+
   | project_id | Yes       | String | Project ID. For details, see :ref:`Obtaining a Project ID and Name <modelarts_03_0147>`. |
   +------------+-----------+--------+------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 2** Request body parameters

   +-----------------------+-----------+-------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | Parameter             | Mandatory | Type                                                                                                        | Description                                                                                 |
   +=======================+===========+=============================================================================================================+=============================================================================================+
   | metadata              | No        | :ref:`metadata <en-us_topic_0000001943967105__request_metadata>` object                                     | Algorithm metadata, which describes basic algorithm information.                            |
   +-----------------------+-----------+-------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | job_config            | No        | :ref:`job_config <en-us_topic_0000001943967105__request_job_config>` object                                 | Algorithm configuration, such as the boot file.                                             |
   +-----------------------+-----------+-------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | resource_requirements | No        | Array of :ref:`resource_requirements <en-us_topic_0000001943967105__request_resource_requirements>` objects | Algorithm resource constraint. You can disable this function by not setting this parameter. |
   +-----------------------+-----------+-------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | advanced_config       | No        | :ref:`advanced_config <en-us_topic_0000001943967105__request_advanced_config>` object                       | Advanced algorithm configuration. Currently, **autosearch** is supported.                   |
   +-----------------------+-----------+-------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__request_metadata:

.. table:: **Table 3** metadata

   +--------------+-----------+---------+---------------------------------------------------------------------------------------------------------------------------------+
   | Parameter    | Mandatory | Type    | Description                                                                                                                     |
   +==============+===========+=========+=================================================================================================================================+
   | id           | No        | Integer | Algorithm UUID. You do not need to set this parameter when creating an algorithm.                                               |
   +--------------+-----------+---------+---------------------------------------------------------------------------------------------------------------------------------+
   | name         | Yes       | String  | Algorithm name. The value must contain 1 to 64 characters consisting of only digits, letters, underscores (_), and hyphens (-). |
   +--------------+-----------+---------+---------------------------------------------------------------------------------------------------------------------------------+
   | description  | No        | String  | Algorithm description, which consists of 0 to 256 characters. The default value is **NULL**.                                    |
   +--------------+-----------+---------+---------------------------------------------------------------------------------------------------------------------------------+
   | workspace_id | No        | String  | Workspace where a specified algorithm is located. The default value is **0**.                                                   |
   +--------------+-----------+---------+---------------------------------------------------------------------------------------------------------------------------------+
   | ai_project   | No        | String  | AI project to which a specified algorithm belongs. The default value is **default-ai-project**.                                 |
   +--------------+-----------+---------+---------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__request_job_config:

.. table:: **Table 4** job_config

   +--------------------------+-----------+-------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                | Mandatory | Type                                                                                | Description                                                                                                                                                                 |
   +==========================+===========+=====================================================================================+=============================================================================================================================================================================+
   | code_dir                 | No        | String                                                                              | Algorithm code directory, for example, **/usr/app/**. This parameter must be used together with **boot_file**.                                                              |
   +--------------------------+-----------+-------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | boot_file                | No        | String                                                                              | Code boot file of the algorithm, which needs to be stored in the code directory, for example, **/usr/app/boot.py**. This parameter must be used together with **code_dir**. |
   +--------------------------+-----------+-------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | command                  | No        | String                                                                              | Container startup command of a custom image algorithm.                                                                                                                      |
   +--------------------------+-----------+-------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | parameters               | No        | Array of :ref:`Parameter <en-us_topic_0000001943967105__request_parameter>` objects | Running parameter of an algorithm.                                                                                                                                          |
   +--------------------------+-----------+-------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | inputs                   | No        | Array of :ref:`inputs <en-us_topic_0000001943967105__request_inputs>` objects       | Data input of an algorithm.                                                                                                                                                 |
   +--------------------------+-----------+-------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | outputs                  | No        | Array of :ref:`outputs <en-us_topic_0000001943967105__request_outputs>` objects     | Data output of an algorithm.                                                                                                                                                |
   +--------------------------+-----------+-------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | engine                   | No        | :ref:`engine <en-us_topic_0000001943967105__request_engine>` object                 | Algorithm engine.                                                                                                                                                           |
   +--------------------------+-----------+-------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | parameters_customization | No        | Boolean                                                                             | Whether the algorithm allows hyperparameter customization during training job creation.                                                                                     |
   +--------------------------+-----------+-------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__request_parameter:

.. table:: **Table 5** Parameter

   +------------------+-----------+-----------------------------------------------------------------------------------------+-----------------------------------+
   | Parameter        | Mandatory | Type                                                                                    | Description                       |
   +==================+===========+=========================================================================================+===================================+
   | name             | No        | String                                                                                  | Parameter name.                   |
   +------------------+-----------+-----------------------------------------------------------------------------------------+-----------------------------------+
   | value            | No        | String                                                                                  | Parameter value.                  |
   +------------------+-----------+-----------------------------------------------------------------------------------------+-----------------------------------+
   | description      | No        | String                                                                                  | Parameter description.            |
   +------------------+-----------+-----------------------------------------------------------------------------------------+-----------------------------------+
   | constraint       | No        | :ref:`constraint <en-us_topic_0000001943967105__request_constraint>` object             | Parameter constraint.             |
   +------------------+-----------+-----------------------------------------------------------------------------------------+-----------------------------------+
   | i18n_description | No        | :ref:`i18n_description <en-us_topic_0000001943967105__request_i18n_description>` object | Internationalization description. |
   +------------------+-----------+-----------------------------------------------------------------------------------------+-----------------------------------+

.. _en-us_topic_0000001943967105__request_constraint:

.. table:: **Table 6** constraint

   +-------------+-----------+------------------+-------------------------------------+
   | Parameter   | Mandatory | Type             | Description                         |
   +=============+===========+==================+=====================================+
   | type        | No        | String           | Parameter type.                     |
   +-------------+-----------+------------------+-------------------------------------+
   | editable    | No        | Boolean          | Whether the parameter is editable.  |
   +-------------+-----------+------------------+-------------------------------------+
   | required    | No        | Boolean          | Whether the parameter is mandatory. |
   +-------------+-----------+------------------+-------------------------------------+
   | sensitive   | No        | Boolean          | Whether the parameter is sensitive. |
   +-------------+-----------+------------------+-------------------------------------+
   | valid_type  | No        | String           | Valid type.                         |
   +-------------+-----------+------------------+-------------------------------------+
   | valid_range | No        | Array of strings | Valid range.                        |
   +-------------+-----------+------------------+-------------------------------------+

.. _en-us_topic_0000001943967105__request_i18n_description:

.. table:: **Table 7** i18n_description

   =========== ========= ====== ==============================
   Parameter   Mandatory Type   Description
   =========== ========= ====== ==============================
   language    No        String Internationalization language.
   description No        String Description.
   =========== ========= ====== ==============================

.. _en-us_topic_0000001943967105__request_inputs:

.. table:: **Table 8** inputs

   +--------------------+-----------+-------------------------------------------------------------------------------------------------------+----------------------------------------+
   | Parameter          | Mandatory | Type                                                                                                  | Description                            |
   +====================+===========+=======================================================================================================+========================================+
   | name               | Yes       | String                                                                                                | Name of the data input channel.        |
   +--------------------+-----------+-------------------------------------------------------------------------------------------------------+----------------------------------------+
   | description        | No        | String                                                                                                | Description of the data input channel. |
   +--------------------+-----------+-------------------------------------------------------------------------------------------------------+----------------------------------------+
   | remote_constraints | No        | Array of :ref:`remote_constraints <en-us_topic_0000001943967105__request_remote_constraints>` objects | Data input constraint.                 |
   +--------------------+-----------+-------------------------------------------------------------------------------------------------------+----------------------------------------+

.. _en-us_topic_0000001943967105__request_remote_constraints:

.. table:: **Table 9** remote_constraints

   +-----------------+-----------------+-------------------------------------+-------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type                                | Description                                                       |
   +=================+=================+=====================================+===================================================================+
   | data_type       | No              | String                              | Data input type, including the data storage location and dataset. |
   +-----------------+-----------------+-------------------------------------+-------------------------------------------------------------------+
   | attributes      | No              | Array of Map<String,String> objects | Attributes if a dataset is used as the data input. Options:       |
   |                 |                 |                                     |                                                                   |
   |                 |                 |                                     | -  **data_format**: Data format                                   |
   |                 |                 |                                     |                                                                   |
   |                 |                 |                                     | -  **data_segmentation**: Data segmentation                       |
   |                 |                 |                                     |                                                                   |
   |                 |                 |                                     | -  **dataset_type**: Labeling type                                |
   +-----------------+-----------------+-------------------------------------+-------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__request_outputs:

.. table:: **Table 10** outputs

   =========== ========= ====== =======================================
   Parameter   Mandatory Type   Description
   =========== ========= ====== =======================================
   name        Yes       String Name of the data output channel.
   description No        String Description of the data output channel.
   =========== ========= ====== =======================================

.. _en-us_topic_0000001943967105__request_engine:

.. table:: **Table 11** engine

   +----------------+-----------+--------+-----------------------------------------------------------------------------------------------------------+
   | Parameter      | Mandatory | Type   | Description                                                                                               |
   +================+===========+========+===========================================================================================================+
   | engine_id      | No        | String | Engine ID selected for an algorithm.                                                                      |
   +----------------+-----------+--------+-----------------------------------------------------------------------------------------------------------+
   | engine_name    | No        | String | Engine version name selected for an algorithm. If **engine_id** is specified, leave this parameter blank. |
   +----------------+-----------+--------+-----------------------------------------------------------------------------------------------------------+
   | engine_version | No        | String | Engine version name selected for an algorithm. If **engine_id** is specified, leave this parameter blank. |
   +----------------+-----------+--------+-----------------------------------------------------------------------------------------------------------+
   | image_url      | No        | String | Custom image URL selected by an algorithm.                                                                |
   +----------------+-----------+--------+-----------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__request_resource_requirements:

.. table:: **Table 12** resource_requirements

   +-----------------+-----------------+------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type             | Description                                                                                                                                        |
   +=================+=================+==================+====================================================================================================================================================+
   | key             | No              | String           | Resource constraints. Options:                                                                                                                     |
   |                 |                 |                  |                                                                                                                                                    |
   |                 |                 |                  | -  **flavor_type**: flavor type, which can be **CPU** or **GPU**.                                                                                  |
   |                 |                 |                  |                                                                                                                                                    |
   |                 |                 |                  | -  **device_distributed_mode**: whether to support multi-card training. The value can be **multiple** (supported) or **singular** (not supported). |
   |                 |                 |                  |                                                                                                                                                    |
   |                 |                 |                  | -  **host_distributed_mode**: whether to support distributed training. The value can be **multiple** (supported) or **singular** (not supported).  |
   +-----------------+-----------------+------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | values          | No              | Array of strings | Value of the resource constraint key.                                                                                                              |
   +-----------------+-----------------+------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | operator        | No              | String           | Relationship between keys and values. Currently, only **in** is supported. For example: **flavor_type** in [CPU,GPU].                              |
   +-----------------+-----------------+------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__request_advanced_config:

.. table:: **Table 13** advanced_config

   +-------------+-----------+-------------------------------------------------------------------------------+-------------------------------+
   | Parameter   | Mandatory | Type                                                                          | Description                   |
   +=============+===========+===============================================================================+===============================+
   | auto_search | No        | :ref:`auto_search <en-us_topic_0000001943967105__request_auto_search>` object | Hyperparameter search policy. |
   +-------------+-----------+-------------------------------------------------------------------------------+-------------------------------+

.. _en-us_topic_0000001943967105__request_auto_search:

.. table:: **Table 14** auto_search

   +--------------------+-----------+---------------------------------------------------------------------------------------------+----------------------------------------------------+
   | Parameter          | Mandatory | Type                                                                                        | Description                                        |
   +====================+===========+=============================================================================================+====================================================+
   | skip_search_params | No        | String                                                                                      | Hyperparameter parameters that need to be skipped. |
   +--------------------+-----------+---------------------------------------------------------------------------------------------+----------------------------------------------------+
   | reward_attrs       | No        | Array of :ref:`reward_attrs <en-us_topic_0000001943967105__request_reward_attrs>` objects   | List of search metrics.                            |
   +--------------------+-----------+---------------------------------------------------------------------------------------------+----------------------------------------------------+
   | search_params      | No        | Array of :ref:`search_params <en-us_topic_0000001943967105__request_search_params>` objects | Search parameters.                                 |
   +--------------------+-----------+---------------------------------------------------------------------------------------------+----------------------------------------------------+
   | algo_configs       | No        | Array of :ref:`algo_configs <en-us_topic_0000001943967105__request_algo_configs>` objects   | Search algorithm configurations.                   |
   +--------------------+-----------+---------------------------------------------------------------------------------------------+----------------------------------------------------+

.. _en-us_topic_0000001943967105__request_reward_attrs:

.. table:: **Table 15** reward_attrs

   +-----------------+-----------------+-----------------+------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                      |
   +=================+=================+=================+==================================================================+
   | name            | No              | String          | Metric name.                                                     |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------+
   | mode            | No              | String          | Search direction.                                                |
   |                 |                 |                 |                                                                  |
   |                 |                 |                 | -  **max**: A larger metric value indicates better performance.  |
   |                 |                 |                 |                                                                  |
   |                 |                 |                 | -  **min**: A smaller metric value indicates better performance. |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------+
   | regex           | No              | String          | Regular expression of a metric.                                  |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__request_search_params:

.. table:: **Table 16** search_params

   +---------------------+-----------------+-----------------+------------------------------------------------------------------+
   | Parameter           | Mandatory       | Type            | Description                                                      |
   +=====================+=================+=================+==================================================================+
   | name                | No              | String          | Hyperparameter name.                                             |
   +---------------------+-----------------+-----------------+------------------------------------------------------------------+
   | param_type          | No              | String          | Parameter type.                                                  |
   |                     |                 |                 |                                                                  |
   |                     |                 |                 | -  **continuous**: The hyperparameter is of the continuous type. |
   |                     |                 |                 |                                                                  |
   |                     |                 |                 | -  **discrete**: The hyperparameter is of the discrete type.     |
   +---------------------+-----------------+-----------------+------------------------------------------------------------------+
   | lower_bound         | No              | String          | Lower bound of the hyperparameter.                               |
   +---------------------+-----------------+-----------------+------------------------------------------------------------------+
   | upper_bound         | No              | String          | Upper bound of the hyperparameter.                               |
   +---------------------+-----------------+-----------------+------------------------------------------------------------------+
   | discrete_points_num | No              | String          | Number of discrete points of a continuous hyperparameter.        |
   +---------------------+-----------------+-----------------+------------------------------------------------------------------+
   | discrete_values     | No              | String          | List of discrete hyperparameter values.                          |
   +---------------------+-----------------+-----------------+------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__request_algo_configs:

.. table:: **Table 17** algo_configs

   +-----------+-----------+-----------------------------------------------------------------------------------------------------------------------------+-------------------------------+
   | Parameter | Mandatory | Type                                                                                                                        | Description                   |
   +===========+===========+=============================================================================================================================+===============================+
   | name      | No        | String                                                                                                                      | Name of the search algorithm. |
   +-----------+-----------+-----------------------------------------------------------------------------------------------------------------------------+-------------------------------+
   | params    | No        | Array of :ref:`AutoSearchAlgoConfigParameter <en-us_topic_0000001943967105__request_autosearchalgoconfigparameter>` objects | Search algorithm parameters.  |
   +-----------+-----------+-----------------------------------------------------------------------------------------------------------------------------+-------------------------------+

.. _en-us_topic_0000001943967105__request_autosearchalgoconfigparameter:

.. table:: **Table 18** AutoSearchAlgoConfigParameter

   ========= ========= ====== ================
   Parameter Mandatory Type   Description
   ========= ========= ====== ================
   key       No        String Parameter key.
   value     No        String Parameter value.
   type      No        String Parameter type.
   ========= ========= ====== ================

Response Parameters
-------------------

**Status code: 201**

.. table:: **Table 19** Response body parameters

   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                                         | Description                                                                                 |
   +=======================+==============================================================================================================+=============================================================================================+
   | metadata              | :ref:`metadata <en-us_topic_0000001943967105__response_metadata>` object                                     | Algorithm metadata, which describes basic algorithm information.                            |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | job_config            | :ref:`job_config <en-us_topic_0000001943967105__response_job_config>` object                                 | Algorithm configuration, such as the boot file.                                             |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | resource_requirements | Array of :ref:`resource_requirements <en-us_topic_0000001943967105__response_resource_requirements>` objects | Algorithm resource constraint. You can disable this function by not setting this parameter. |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+
   | advanced_config       | :ref:`advanced_config <en-us_topic_0000001943967105__response_advanced_config>` object                       | Advanced algorithm configuration. Currently, **autosearch** is supported.                   |
   +-----------------------+--------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__response_metadata:

.. table:: **Table 20** metadata

   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | Parameter    | Type                                | Description                                                                                                                     |
   +==============+=====================================+=================================================================================================================================+
   | id           | Integer                             | Algorithm UUID. You do not need to set this parameter when creating an algorithm.                                               |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | name         | String                              | Algorithm name. The value must contain 1 to 64 characters consisting of only digits, letters, underscores (_), and hyphens (-). |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | description  | String                              | Algorithm description, which consists of 0 to 256 characters. The default value is **NULL**.                                    |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | workspace_id | String                              | Workspace where a specified algorithm is located. The default value is **0**.                                                   |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | ai_project   | String                              | AI project to which a specified algorithm belongs. The default value is **default-ai-project**.                                 |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | user_name    | String                              | Username.                                                                                                                       |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | domain_id    | String                              | Domain ID of a user.                                                                                                            |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | source       | String                              | Algorithm source.                                                                                                               |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | api_version  | String                              | Algorithm API version, which identifies the old and new ones.                                                                   |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | is_valid     | String                              | Algorithm availability.                                                                                                         |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | state        | String                              | Algorithm state.                                                                                                                |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | tags         | Array of Map<String,String> objects | Algorithm tags.                                                                                                                 |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | attr_list    | Array of strings                    | Algorithm attribute list.                                                                                                       |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | version_num  | Integer                             | Number of algorithm versions. The default value is **0**.                                                                       |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | size         | Integer                             | Algorithm size.                                                                                                                 |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | create_time  | Long                                | Timestamp when the algorithm is created.                                                                                        |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+
   | update_time  | Long                                | Timestamp when the algorithm is updated.                                                                                        |
   +--------------+-------------------------------------+---------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__response_job_config:

.. table:: **Table 21** job_config

   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                | Type                                                                                 | Description                                                                                                                                                    |
   +==========================+======================================================================================+================================================================================================================================================================+
   | code_dir                 | String                                                                               | Algorithm code directory, for example, **/usr/app/**. This parameter must be used together with **boot_file**.                                                 |
   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | boot_file                | String                                                                               | Code boot file of the algorithm, which must be stored in the code directory, for example, **/usr/app/boot.py**. This parameter must be used with **code_dir**. |
   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | command                  | String                                                                               | Container startup command of a custom image algorithm.                                                                                                         |
   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | parameters               | Array of :ref:`Parameter <en-us_topic_0000001943967105__response_parameter>` objects | Running parameter of an algorithm.                                                                                                                             |
   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | inputs                   | Array of :ref:`inputs <en-us_topic_0000001943967105__response_inputs>` objects       | Data input of an algorithm.                                                                                                                                    |
   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | outputs                  | Array of :ref:`outputs <en-us_topic_0000001943967105__response_outputs>` objects     | Data output of an algorithm.                                                                                                                                   |
   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | engine                   | :ref:`engine <en-us_topic_0000001943967105__response_engine>` object                 | Algorithm engine.                                                                                                                                              |
   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | code_tree                | Array of :ref:`code_tree <en-us_topic_0000001943967105__response_code_tree>` objects | Algorithm directory tree                                                                                                                                       |
   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | parameters_customization | Boolean                                                                              | Whether the algorithm allows hyperparameter customization during training job creation.                                                                        |
   +--------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__response_parameter:

.. table:: **Table 22** Parameter

   +------------------+------------------------------------------------------------------------------------------+-----------------------------------+
   | Parameter        | Type                                                                                     | Description                       |
   +==================+==========================================================================================+===================================+
   | name             | String                                                                                   | Parameter name.                   |
   +------------------+------------------------------------------------------------------------------------------+-----------------------------------+
   | value            | String                                                                                   | Parameter value.                  |
   +------------------+------------------------------------------------------------------------------------------+-----------------------------------+
   | description      | String                                                                                   | Parameter description.            |
   +------------------+------------------------------------------------------------------------------------------+-----------------------------------+
   | constraint       | :ref:`constraint <en-us_topic_0000001943967105__response_constraint>` object             | Parameter constraint.             |
   +------------------+------------------------------------------------------------------------------------------+-----------------------------------+
   | i18n_description | :ref:`i18n_description <en-us_topic_0000001943967105__response_i18n_description>` object | Internationalization description. |
   +------------------+------------------------------------------------------------------------------------------+-----------------------------------+

.. _en-us_topic_0000001943967105__response_constraint:

.. table:: **Table 23** constraint

   =========== ================ ===================================
   Parameter   Type             Description
   =========== ================ ===================================
   type        String           Parameter type.
   editable    Boolean          Whether the parameter is editable.
   required    Boolean          Whether the parameter is mandatory.
   sensitive   Boolean          Whether the parameter is sensitive.
   valid_type  String           Valid type.
   valid_range Array of strings Valid range.
   =========== ================ ===================================

.. _en-us_topic_0000001943967105__response_i18n_description:

.. table:: **Table 24** i18n_description

   =========== ====== ==============================
   Parameter   Type   Description
   =========== ====== ==============================
   language    String Internationalization language.
   description String Description.
   =========== ====== ==============================

.. _en-us_topic_0000001943967105__response_inputs:

.. table:: **Table 25** inputs

   +--------------------+--------------------------------------------------------------------------------------------------------+----------------------------------------+
   | Parameter          | Type                                                                                                   | Description                            |
   +====================+========================================================================================================+========================================+
   | name               | String                                                                                                 | Name of the data input channel.        |
   +--------------------+--------------------------------------------------------------------------------------------------------+----------------------------------------+
   | description        | String                                                                                                 | Description of the data input channel. |
   +--------------------+--------------------------------------------------------------------------------------------------------+----------------------------------------+
   | remote_constraints | Array of :ref:`remote_constraints <en-us_topic_0000001943967105__response_remote_constraints>` objects | Data input constraint.                 |
   +--------------------+--------------------------------------------------------------------------------------------------------+----------------------------------------+

.. _en-us_topic_0000001943967105__response_remote_constraints:

.. table:: **Table 26** remote_constraints

   +-----------------------+-------------------------------------+-------------------------------------------------------------------+
   | Parameter             | Type                                | Description                                                       |
   +=======================+=====================================+===================================================================+
   | data_type             | String                              | Data input type, including the data storage location and dataset. |
   +-----------------------+-------------------------------------+-------------------------------------------------------------------+
   | attributes            | Array of Map<String,String> objects | Attributes if a dataset is used as the data input. Options:       |
   |                       |                                     |                                                                   |
   |                       |                                     | -  **data_format**: Data format                                   |
   |                       |                                     |                                                                   |
   |                       |                                     | -  **data_segmentation**: Data segmentation                       |
   |                       |                                     |                                                                   |
   |                       |                                     | -  **dataset_type**: Labeling type                                |
   +-----------------------+-------------------------------------+-------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__response_outputs:

.. table:: **Table 27** outputs

   =========== ====== =======================================
   Parameter   Type   Description
   =========== ====== =======================================
   name        String Name of the data output channel.
   description String Description of the data output channel.
   =========== ====== =======================================

.. _en-us_topic_0000001943967105__response_engine:

.. table:: **Table 28** engine

   +----------------+--------+-----------------------------------------------------------------------------------------------------------+
   | Parameter      | Type   | Description                                                                                               |
   +================+========+===========================================================================================================+
   | engine_id      | String | Engine ID selected for an algorithm.                                                                      |
   +----------------+--------+-----------------------------------------------------------------------------------------------------------+
   | engine_name    | String | Engine version name selected for an algorithm. If **engine_id** is specified, leave this parameter blank. |
   +----------------+--------+-----------------------------------------------------------------------------------------------------------+
   | engine_version | String | Engine version name selected for an algorithm. If **engine_id** is specified, leave this parameter blank. |
   +----------------+--------+-----------------------------------------------------------------------------------------------------------+
   | image_url      | String | Custom image URL selected by an algorithm.                                                                |
   +----------------+--------+-----------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__response_code_tree:

.. table:: **Table 29** code_tree

   +-----------+--------+---------------------------------------------------------------------------------------+
   | Parameter | Type   | Description                                                                           |
   +===========+========+=======================================================================================+
   | name      | String | Name of the current directory in the algorithm directory tree.                        |
   +-----------+--------+---------------------------------------------------------------------------------------+
   | children  | Object | Subfiles and subdirectories in the current directory of the algorithm directory tree. |
   +-----------+--------+---------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__response_resource_requirements:

.. table:: **Table 30** resource_requirements

   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                        |
   +=======================+=======================+====================================================================================================================================================+
   | key                   | String                | Resource constraints. Options:                                                                                                                     |
   |                       |                       |                                                                                                                                                    |
   |                       |                       | -  **flavor_type**: flavor type, which can be **CPU** or **GPU**.                                                                                  |
   |                       |                       |                                                                                                                                                    |
   |                       |                       | -  **device_distributed_mode**: whether to support multi-card training. The value can be **multiple** (supported) or **singular** (not supported). |
   |                       |                       |                                                                                                                                                    |
   |                       |                       | -  **host_distributed_mode**: whether to support distributed training. The value can be **multiple** (supported) or **singular** (not supported).  |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | value                 | Array of strings      | Value of the resource constraint key.                                                                                                              |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | operator              | String                | Relationship between keys and values. Currently, only **in** is supported. For example: **flavor_type** in [CPU,GPU].                              |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__response_advanced_config:

.. table:: **Table 31** advanced_config

   +-------------+--------------------------------------------------------------------------------+-------------------------------+
   | Parameter   | Type                                                                           | Description                   |
   +=============+================================================================================+===============================+
   | auto_search | :ref:`auto_search <en-us_topic_0000001943967105__response_auto_search>` object | Hyperparameter search policy. |
   +-------------+--------------------------------------------------------------------------------+-------------------------------+

.. _en-us_topic_0000001943967105__response_auto_search:

.. table:: **Table 32** auto_search

   +--------------------+----------------------------------------------------------------------------------------------+----------------------------------------------------+
   | Parameter          | Type                                                                                         | Description                                        |
   +====================+==============================================================================================+====================================================+
   | skip_search_params | String                                                                                       | Hyperparameter parameters that need to be skipped. |
   +--------------------+----------------------------------------------------------------------------------------------+----------------------------------------------------+
   | reward_attrs       | Array of :ref:`reward_attrs <en-us_topic_0000001943967105__response_reward_attrs>` objects   | List of search metrics.                            |
   +--------------------+----------------------------------------------------------------------------------------------+----------------------------------------------------+
   | search_params      | Array of :ref:`search_params <en-us_topic_0000001943967105__response_search_params>` objects | Search parameters.                                 |
   +--------------------+----------------------------------------------------------------------------------------------+----------------------------------------------------+
   | algo_configs       | Array of :ref:`algo_configs <en-us_topic_0000001943967105__response_algo_configs>` objects   | Search algorithm configurations.                   |
   +--------------------+----------------------------------------------------------------------------------------------+----------------------------------------------------+

.. _en-us_topic_0000001943967105__response_reward_attrs:

.. table:: **Table 33** reward_attrs

   +-----------------------+-----------------------+------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                      |
   +=======================+=======================+==================================================================+
   | name                  | String                | Metric name.                                                     |
   +-----------------------+-----------------------+------------------------------------------------------------------+
   | mode                  | String                | Search direction.                                                |
   |                       |                       |                                                                  |
   |                       |                       | -  **max**: A larger metric value indicates better performance.  |
   |                       |                       |                                                                  |
   |                       |                       | -  **min**: A smaller metric value indicates better performance. |
   +-----------------------+-----------------------+------------------------------------------------------------------+
   | regex                 | String                | Regular expression of a metric.                                  |
   +-----------------------+-----------------------+------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__response_search_params:

.. table:: **Table 34** search_params

   +-----------------------+-----------------------+------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                      |
   +=======================+=======================+==================================================================+
   | name                  | String                | Hyperparameter name.                                             |
   +-----------------------+-----------------------+------------------------------------------------------------------+
   | param_type            | String                | Parameter type.                                                  |
   |                       |                       |                                                                  |
   |                       |                       | -  **continuous**: The hyperparameter is of the continuous type. |
   |                       |                       |                                                                  |
   |                       |                       | -  **discrete**: The hyperparameter is of the discrete type.     |
   +-----------------------+-----------------------+------------------------------------------------------------------+
   | lower_bound           | String                | Lower bound of the hyperparameter.                               |
   +-----------------------+-----------------------+------------------------------------------------------------------+
   | upper_bound           | String                | Upper bound of the hyperparameter.                               |
   +-----------------------+-----------------------+------------------------------------------------------------------+
   | discrete_points_num   | String                | Number of discrete points of a continuous hyperparameter.        |
   +-----------------------+-----------------------+------------------------------------------------------------------+
   | discrete_values       | String                | List of discrete hyperparameter values.                          |
   +-----------------------+-----------------------+------------------------------------------------------------------+

.. _en-us_topic_0000001943967105__response_algo_configs:

.. table:: **Table 35** algo_configs

   +-----------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------+
   | Parameter | Type                                                                                                                         | Description                   |
   +===========+==============================================================================================================================+===============================+
   | name      | String                                                                                                                       | Name of the search algorithm. |
   +-----------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------+
   | params    | Array of :ref:`AutoSearchAlgoConfigParameter <en-us_topic_0000001943967105__response_autosearchalgoconfigparameter>` objects | Search algorithm parameters.  |
   +-----------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------+

.. _en-us_topic_0000001943967105__response_autosearchalgoconfigparameter:

.. table:: **Table 36** AutoSearchAlgoConfigParameter

   ========= ====== ================
   Parameter Type   Description
   ========= ====== ================
   key       String Parameter key.
   value     String Parameter value.
   type      String Parameter type.
   ========= ====== ================

Example Requests
----------------

The following shows how to create an algorithm whose name is **TestModelArtsalgorithm** and description is **This is a ModelArts algorithm**.

.. code-block:: text

   POST https://endpoint/v2/{project_id}/algorithms

   {
     "metadata" : {
       "name" : "TestModelArtsalgorithm",
       "description" : "This is a ModelArts algorithm"
     },
     "job_config" : {
       "code_dir" : "/algo-test/pytorch/work1/code/",
       "boot_file" : "/algo-test/pytorch/work1/code/test-pytorch.py",
       "parameters" : [ {
         "name" : "test-parameter",
         "value" : "10",
         "constraint" : {
           "type" : "String",
           "editable" : true,
           "required" : false,
           "sensitive" : false,
           "valid_type" : "None",
           "valid_range" : [ ]
         }
       } ],
       "parameters_customization" : true,
       "inputs" : [ {
         "name" : "data_url",
         "description" : "data source."
       } ],
       "outputs" : [ {
         "name" : "train_url",
         "description" : "model output."
       } ],
       "engine" : {
         "engine_name" : "PyTorch",
         "engine_version" : "PyTorch-1.3.0-python3.6"
       }
     }
   }

Example Responses
-----------------

**Status code: 201**

ok

.. code-block::

   {
     "metadata" : {
       "id" : "2e5451fe-913f-4492-821a-2981031382f7",
       "name" : "TestModelArtsalgorithm",
       "description" : "This is a ModelArts algorithm",
       "create_time" : 1636600721742,
       "workspace_id" : "0",
       "ai_project" : "default-ai-project",
       "user_name" : "",
       "domain_id" : "xxxxxxxxxxxxxxxxxxxxxxxxxx",
       "source" : "custom",
       "api_version" : "",
       "is_valid" : true,
       "state" : "",
       "size" : 4791,
       "tags" : null,
       "attr_list" : null,
       "version_num" : 0,
       "update_time" : 0
     },
     "job_config" : {
       "code_dir" : "/algo-test/pytorch/work1/code/",
       "boot_file" : "/algo-test/pytorch/work1/code/test-pytorch.py",
       "command" : "",
       "parameters" : [ {
         "name" : "test-parameter",
         "description" : "",
         "i18n_description" : null,
         "value" : "10",
         "constraint" : {
           "type" : "String",
           "editable" : true,
           "required" : false,
           "sensitive" : false,
           "valid_type" : "None",
           "valid_range" : [ ]
         }
       } ],
       "parameters_customization" : true,
       "inputs" : [ {
         "name" : "data_url",
         "description" : "name to translate"
       } ],
       "outputs" : [ {
         "name" : "train_url",
         "description" : "name to translate"
       } ],
       "engine" : {
         "engine_id" : "pytorch-cp36-1.3.0",
         "engine_name" : "PyTorch",
         "engine_version" : "PyTorch-1.3.0-python3.6"
       },
       "code_tree" : {
         "name" : "code/",
         "children" : [ {
           "name" : "test-pytorch.py"
         } ]
       }
     },
     "resource_requirements" : null,
     "advanced_config" : { }
   }

Status Codes
------------

=========== ===========
Status Code Description
=========== ===========
201         ok
=========== ===========

Error Codes
-----------

See :ref:`Error Codes <modelarts_03_0095>`.
