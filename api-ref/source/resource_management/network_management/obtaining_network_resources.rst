:original_name: ListNetworks.html

.. _ListNetworks:

Obtaining Network Resources
===========================

Function
--------

This API is used to obtain network resources.

URI
---

GET /v1/{project_id}/networks

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                              |
   +============+===========+========+==========================================================================================+
   | project_id | Yes       | String | Project ID. For details, see :ref:`Obtaining a Project ID and Name <modelarts_03_0147>`. |
   +------------+-----------+--------+------------------------------------------------------------------------------------------+

.. table:: **Table 2** Query Parameters

   +---------------+-----------+---------+-----------------------------------------------------------+
   | Parameter     | Mandatory | Type    | Description                                               |
   +===============+===========+=========+===========================================================+
   | workspaceId   | No        | String  | Workspace ID. The default value is **0**.                 |
   +---------------+-----------+---------+-----------------------------------------------------------+
   | labelSelector | No        | String  | Filter by label.                                          |
   +---------------+-----------+---------+-----------------------------------------------------------+
   | limit         | No        | Integer | Number of records returned for a single pagination query. |
   +---------------+-----------+---------+-----------------------------------------------------------+
   | continue      | No        | String  | Previous query location in pagination query.              |
   +---------------+-----------+---------+-----------------------------------------------------------+

Request Parameters
------------------

None

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +-----------------------+----------------------------------------------------------------------------------+--------------------------------+
   | Parameter             | Type                                                                             | Description                    |
   +=======================+==================================================================================+================================+
   | apiVersion            | String                                                                           | API version. Options:          |
   |                       |                                                                                  |                                |
   |                       |                                                                                  | -  **v1**                      |
   +-----------------------+----------------------------------------------------------------------------------+--------------------------------+
   | kind                  | String                                                                           | Resource type. Options:        |
   |                       |                                                                                  |                                |
   |                       |                                                                                  | -  **NetworkList**: networks   |
   +-----------------------+----------------------------------------------------------------------------------+--------------------------------+
   | metadata              | :ref:`metadata <en-us_topic_0000002044058272__response_metadata>` object         | Metadata of network resources. |
   +-----------------------+----------------------------------------------------------------------------------+--------------------------------+
   | items                 | Array of :ref:`Network <en-us_topic_0000002044058272__response_network>` objects | Network resources.             |
   +-----------------------+----------------------------------------------------------------------------------+--------------------------------+

.. _en-us_topic_0000002044058272__response_metadata:

.. table:: **Table 4** metadata

   ================== ======= ========================================
   Parameter          Type    Description
   ================== ======= ========================================
   continue           String  Next query location in pagination query.
   remainingItemCount Integer Remaining resources.
   ================== ======= ========================================

.. _en-us_topic_0000002044058272__response_network:

.. table:: **Table 5** Network

   +-----------------------+--------------------------------------------------------------------------------------+-----------------------------------+
   | Parameter             | Type                                                                                 | Description                       |
   +=======================+======================================================================================+===================================+
   | apiVersion            | String                                                                               | API version. Options:             |
   |                       |                                                                                      |                                   |
   |                       |                                                                                      | -  **v1**                         |
   +-----------------------+--------------------------------------------------------------------------------------+-----------------------------------+
   | kind                  | String                                                                               | Resource type. Options:           |
   |                       |                                                                                      |                                   |
   |                       |                                                                                      | -  **Network**                    |
   +-----------------------+--------------------------------------------------------------------------------------+-----------------------------------+
   | metadata              | :ref:`NeworkMetadata <en-us_topic_0000002044058272__response_neworkmetadata>` object | Metadata of network resources.    |
   +-----------------------+--------------------------------------------------------------------------------------+-----------------------------------+
   | spec                  | :ref:`NetworkSpec <en-us_topic_0000002044058272__response_networkspec>` object       | Description of network resources. |
   +-----------------------+--------------------------------------------------------------------------------------+-----------------------------------+
   | status                | :ref:`NetworkStatus <en-us_topic_0000002044058272__response_networkstatus>` object   | Status of network resources.      |
   +-----------------------+--------------------------------------------------------------------------------------+-----------------------------------+

.. _en-us_topic_0000002044058272__response_neworkmetadata:

.. table:: **Table 6** NeworkMetadata

   +-------------------+--------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
   | Parameter         | Type                                                                                                         | Description                                                                 |
   +===================+==============================================================================================================+=============================================================================+
   | name              | String                                                                                                       | Automatically generated network name, which is equivalent to **networkId**. |
   +-------------------+--------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
   | creationTimestamp | String                                                                                                       | Timestamp, for example, 2021-11-01T03:49:41Z.                               |
   +-------------------+--------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
   | labels            | :ref:`NetworkMetadataLabels <en-us_topic_0000002044058272__response_networkmetadatalabels>` object           | Labels of network resources.                                                |
   +-------------------+--------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+
   | annotations       | :ref:`NetworkMetadataAnnotations <en-us_topic_0000002044058272__response_networkmetadataannotations>` object | Annotations of network resources.                                           |
   +-------------------+--------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------+

.. _en-us_topic_0000002044058272__response_networkmetadatalabels:

.. table:: **Table 7** NetworkMetadataLabels

   +-----------------------+-----------------------+-------------------------+
   | Parameter             | Type                  | Description             |
   +=======================+=======================+=========================+
   | os.modelarts/name     | String                | Specified network name. |
   |                       |                       |                         |
   |                       |                       | Minimum: **4**          |
   |                       |                       |                         |
   |                       |                       | Maximum: **32**         |
   +-----------------------+-----------------------+-------------------------+

.. _en-us_topic_0000002044058272__response_networkmetadataannotations:

.. table:: **Table 8** NetworkMetadataAnnotations

   +--------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                | Type                  | Description                                                                                                                   |
   +==========================+=======================+===============================================================================================================================+
   | os.modelarts/description | String                | Network resource description, which is used to describe a scenario. The following special characters are not allowed: !<>=&"' |
   |                          |                       |                                                                                                                               |
   |                          |                       | Minimum: **0**                                                                                                                |
   |                          |                       |                                                                                                                               |
   |                          |                       | Maximum: **100**                                                                                                              |
   +--------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002044058272__response_networkspec:

.. table:: **Table 9** NetworkSpec

   +-----------------------+--------------------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | Parameter             | Type                                                                                       | Description                                                          |
   +=======================+============================================================================================+======================================================================+
   | ipv6enable            | Boolean                                                                                    | Whether to enable IPv6. Once IPv6 is enabled, it cannot be disabled. |
   +-----------------------+--------------------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | cidr                  | String                                                                                     | Network CIDR. Value range:                                           |
   |                       |                                                                                            |                                                                      |
   |                       |                                                                                            | -  172.16.0.0/12-172.16.0.0/24                                       |
   |                       |                                                                                            |                                                                      |
   |                       |                                                                                            | -  192.168.0.0/16-192.168.0.0/24                                     |
   +-----------------------+--------------------------------------------------------------------------------------------+----------------------------------------------------------------------+
   | connection            | :ref:`NetworkConnection <en-us_topic_0000002044058272__response_networkconnection>` object | Automatically interconnected endpoint.                               |
   +-----------------------+--------------------------------------------------------------------------------------------+----------------------------------------------------------------------+

.. _en-us_topic_0000002044058272__response_networkconnection:

.. table:: **Table 10** NetworkConnection

   +------------------------+----------------------------------------------------------------------------------------------------------------+---------------------------------------------+
   | Parameter              | Type                                                                                                           | Description                                 |
   +========================+================================================================================================================+=============================================+
   | peerConnectionList     | Array of :ref:`peerConnectionList <en-us_topic_0000002044058272__response_peerconnectionlist>` objects         | Peering connections                         |
   +------------------------+----------------------------------------------------------------------------------------------------------------+---------------------------------------------+
   | sfsTurboConnectionList | Array of :ref:`sfsTurboConnectionList <en-us_topic_0000002044058272__response_sfsturboconnectionlist>` objects | SFS Turbo connections through attached NICs |
   +------------------------+----------------------------------------------------------------------------------------------------------------+---------------------------------------------+

.. _en-us_topic_0000002044058272__response_peerconnectionlist:

.. table:: **Table 11** peerConnectionList

   +----------------+---------+--------------------------------------------------------------------+
   | Parameter      | Type    | Description                                                        |
   +================+=========+====================================================================+
   | peerVpcId      | String  | VPC ID of the peer end                                             |
   +----------------+---------+--------------------------------------------------------------------+
   | peerSubnetId   | String  | Subnet ID of the peer end                                          |
   +----------------+---------+--------------------------------------------------------------------+
   | defaultGateWay | Boolean | Whether to create a default route. The default value is **false**. |
   +----------------+---------+--------------------------------------------------------------------+

.. _en-us_topic_0000002044058272__response_sfsturboconnectionlist:

.. table:: **Table 12** sfsTurboConnectionList

   ========= ====== =============================
   Parameter Type   Description
   ========= ====== =============================
   sfsId     String ID of an SFS Turbo instance
   name      String Name of an SFS Turbo instance
   ========= ====== =============================

.. _en-us_topic_0000002044058272__response_networkstatus:

.. table:: **Table 13** NetworkStatus

   +-----------------------+--------------------------------------------------------------------------------------------------------+------------------------------------------------+
   | Parameter             | Type                                                                                                   | Description                                    |
   +=======================+========================================================================================================+================================================+
   | phase                 | String                                                                                                 | Current network status. Options:               |
   |                       |                                                                                                        |                                                |
   |                       |                                                                                                        | -  **Creating**: The network is being created. |
   |                       |                                                                                                        |                                                |
   |                       |                                                                                                        | -  **Active**: The network is functional.      |
   |                       |                                                                                                        |                                                |
   |                       |                                                                                                        | -  **Abnormal**: The network malfunctions.     |
   +-----------------------+--------------------------------------------------------------------------------------------------------+------------------------------------------------+
   | connectionStatus      | :ref:`NetworkConnectionStatus <en-us_topic_0000002044058272__response_networkconnectionstatus>` object | Network connection status.                     |
   +-----------------------+--------------------------------------------------------------------------------------------------------+------------------------------------------------+

.. _en-us_topic_0000002044058272__response_networkconnectionstatus:

.. table:: **Table 14** NetworkConnectionStatus

   +----------------------+------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | Parameter            | Type                                                                                                       | Description                                   |
   +======================+============================================================================================================+===============================================+
   | peerConnectionStatus | Array of :ref:`peerConnectionStatus <en-us_topic_0000002044058272__response_peerconnectionstatus>` objects | Peering connection status                     |
   +----------------------+------------------------------------------------------------------------------------------------------------+-----------------------------------------------+
   | sfsTurboStatus       | Array of :ref:`sfsTurboStatus <en-us_topic_0000002044058272__response_sfsturbostatus>` objects             | Status of SFS Turbo accessible to the network |
   +----------------------+------------------------------------------------------------------------------------------------------------+-----------------------------------------------+

.. _en-us_topic_0000002044058272__response_peerconnectionstatus:

.. table:: **Table 15** peerConnectionStatus

   +-----------------------+-----------------------+--------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                        |
   +=======================+=======================+====================================================================+
   | peerVpcId             | String                | VPC ID of the peer end                                             |
   +-----------------------+-----------------------+--------------------------------------------------------------------+
   | peerSubnetId          | String                | Subnet ID of the peer end                                          |
   +-----------------------+-----------------------+--------------------------------------------------------------------+
   | defaultGateWay        | Boolean               | Whether to create a default route. The default value is **false**. |
   +-----------------------+-----------------------+--------------------------------------------------------------------+
   | phase                 | String                | Network connection status. Options:                                |
   |                       |                       |                                                                    |
   |                       |                       | -  **Connecting**: The network is being connected.                 |
   |                       |                       |                                                                    |
   |                       |                       | -  **Active**: The network is connected properly.                  |
   |                       |                       |                                                                    |
   |                       |                       | -  **Abnormal**: The network connection is abnormal.               |
   +-----------------------+-----------------------+--------------------------------------------------------------------+

.. _en-us_topic_0000002044058272__response_sfsturbostatus:

.. table:: **Table 16** sfsTurboStatus

   +-----------------------+-----------------------+-------------------------------------------------------+
   | Parameter             | Type                  | Description                                           |
   +=======================+=======================+=======================================================+
   | sfsId                 | String                | SFS Turbo ID                                          |
   +-----------------------+-----------------------+-------------------------------------------------------+
   | name                  | String                | SFS Turbo name                                        |
   +-----------------------+-----------------------+-------------------------------------------------------+
   | status                | String                | Status of the connection to SFS Turbo. Options:       |
   |                       |                       |                                                       |
   |                       |                       | -  **Active**: The SFS connection is normal.          |
   |                       |                       |                                                       |
   |                       |                       | -  **Abnormal**: The SFS connection is abnormal.      |
   |                       |                       |                                                       |
   |                       |                       | -  **Creating**: The SFS connection is being set up.  |
   |                       |                       |                                                       |
   |                       |                       | -  **Deleting**: The SFS connection is being deleted. |
   +-----------------------+-----------------------+-------------------------------------------------------+
   | ipAddr                | String                | SFS Turbo access address                              |
   +-----------------------+-----------------------+-------------------------------------------------------+
   | connectionType        | String                | Connection type. Options:                             |
   |                       |                       |                                                       |
   |                       |                       | -  **VpcPort**: passthrough through attached NICs     |
   |                       |                       |                                                       |
   |                       |                       | -  **Peering**: connection through VPC peering        |
   +-----------------------+-----------------------+-------------------------------------------------------+

Example Requests
----------------

Obtain resource pools.

.. code-block:: text

   GET https://{endpoint}/v1/{project_id}/networks

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   {
     "kind" : "NetworkList",
     "apiVersion" : "v1",
     "metadata" : { },
     "items" : [ {
       "kind" : "Network",
       "apiVersion" : "v1",
       "metadata" : {
         "name" : "network-7a03-86c13962597848eeb29c5861153a391f",
         "creationTimestamp" : "2022-09-16T09:44:59Z",
         "labels" : {
           "os.modelarts/name" : "network-7a03"
         },
         "annotations" : { }
       },
       "spec" : {
         "cidr" : "192.168.128.0/17",
         "connection" : { }
       },
       "status" : {
         "phase" : "Active",
         "connectionStatus" : { }
       }
     } ]
   }

Status Codes
------------

=========== ===========
Status Code Description
=========== ===========
200         OK
=========== ===========

Error Codes
-----------

See :ref:`Error Codes <modelarts_03_0095>`.
