:original_name: ListEvents.html

.. _ListEvents:

Querying a Trace List
=====================

Function
--------

Obtain events.

Debugging
---------

You can debug this API through automatic authentication in or use the SDK sample code generated by API Explorer.

URI
---

GET /v1/{project_id}/events

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                              |
   +============+===========+========+==========================================================================================+
   | project_id | Yes       | String | Project ID. For details, see :ref:`Obtaining a Project ID and Name <modelarts_03_0147>`. |
   +------------+-----------+--------+------------------------------------------------------------------------------------------+

.. table:: **Table 2** Query Parameters

   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                                                   |
   +=================+=================+=================+===============================================================================================================================================================================================+
   | resource        | Yes             | String          | Indicates the type of the resource to which the event belongs. The options are as follows:                                                                                                    |
   |                 |                 |                 |                                                                                                                                                                                               |
   |                 |                 |                 | -  pools: resource pool                                                                                                                                                                       |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name            | Yes             | String          | Name of the resource to which the event belongs.                                                                                                                                              |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | limit           | No              | Integer         | Maximum number of records that can be queried on a page. If this parameter is left empty or set to 0, 500 records are returned by default. A maximum of 500 records can be queried on a page. |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | continue        | No              | String          | Marker of the previous page in pagination query. The value is a UUID string. This parameter is left empty when the first page is queried.                                                     |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | since           | No              | Integer         | Event start timestamp.                                                                                                                                                                        |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | until           | No              | Integer         | Event end timestamp.                                                                                                                                                                          |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | type            | No              | String          | Event type. The options are as follows:                                                                                                                                                       |
   |                 |                 |                 |                                                                                                                                                                                               |
   |                 |                 |                 | -  Normal: normal                                                                                                                                                                             |
   |                 |                 |                 |                                                                                                                                                                                               |
   |                 |                 |                 | -  Warning: abnormal                                                                                                                                                                          |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

None

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +-----------------------+------------------------------------------------------------------------------------+--------------------------------------------+
   | Parameter             | Type                                                                               | Description                                |
   +=======================+====================================================================================+============================================+
   | apiVersion            | String                                                                             | API version. The options are as follows:   |
   |                       |                                                                                    |                                            |
   |                       |                                                                                    | -  v1                                      |
   +-----------------------+------------------------------------------------------------------------------------+--------------------------------------------+
   | kind                  | String                                                                             | Resource type. The options are as follows: |
   |                       |                                                                                    |                                            |
   |                       |                                                                                    | -  EventList: event list.                  |
   +-----------------------+------------------------------------------------------------------------------------+--------------------------------------------+
   | metadata              | :ref:`EventListMeta <en-us_topic_0000001943967341__response_eventlistmeta>` object | Indicates the metadata of the event list.  |
   +-----------------------+------------------------------------------------------------------------------------+--------------------------------------------+
   | items                 | Array of :ref:`Event <en-us_topic_0000001943967341__response_event>` objects       | Specifies the event list.                  |
   +-----------------------+------------------------------------------------------------------------------------+--------------------------------------------+

.. _en-us_topic_0000001943967341__response_eventlistmeta:

.. table:: **Table 4** EventListMeta

   ================== ======= ==========================
   Parameter          Type    Description
   ================== ======= ==========================
   continue           String  Pagination flag.
   remainingItemCount Integer Number of remaining pages.
   ================== ======= ==========================

.. _en-us_topic_0000001943967341__response_event:

.. table:: **Table 5** Event

   +-----------------------+-----------------------+--------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                  |
   +=======================+=======================+==============================================================+
   | apiVersion            | String                | API version. The options are as follows:                     |
   |                       |                       |                                                              |
   |                       |                       | -  v1                                                        |
   +-----------------------+-----------------------+--------------------------------------------------------------+
   | kind                  | String                | Resource type. The options are as follows:                   |
   |                       |                       |                                                              |
   |                       |                       | -  Event: event                                              |
   +-----------------------+-----------------------+--------------------------------------------------------------+
   | type                  | String                | Event type. The options are as follows:                      |
   |                       |                       |                                                              |
   |                       |                       | -  Normal: normal                                            |
   |                       |                       |                                                              |
   |                       |                       | -  Warning: abnormal                                         |
   +-----------------------+-----------------------+--------------------------------------------------------------+
   | firstTimestamp        | String                | Time when an event occurs for the first time.                |
   +-----------------------+-----------------------+--------------------------------------------------------------+
   | lastTimestamp         | String                | Time when an event occurs for the last time.                 |
   +-----------------------+-----------------------+--------------------------------------------------------------+
   | count                 | Integer               | Indicates the number of consecutive occurrences of an event. |
   +-----------------------+-----------------------+--------------------------------------------------------------+
   | reason                | String                | Indicates the cause of the event.                            |
   +-----------------------+-----------------------+--------------------------------------------------------------+
   | message               | String                | Indicates the event details.                                 |
   +-----------------------+-----------------------+--------------------------------------------------------------+

**Status code: 400**

.. table:: **Table 6** Response body parameters

   ========== ====== ==================
   Parameter  Type   Description
   ========== ====== ==================
   error_code String Error code.
   error_msg  String Error description.
   ========== ====== ==================

**Status code: 404**

.. table:: **Table 7** Response body parameters

   ========== ====== ==================
   Parameter  Type   Description
   ========== ====== ==================
   error_code String Error code.
   error_msg  String Error description.
   ========== ====== ==================

Example Requests
----------------

This interface is used to query the trace list of resource pool pool-6f5da086876d4cd084d36f8bd3346036 by page.

.. code-block::

   /v1/{project_id}/events?resource=pools&name=pool-6f5da086876d4cd084d36f8bd3346036&limit=5&continue=cde36780-1120-4753-bf75-0edb9ebd5a9e

   { }

Example Responses
-----------------

**Status code: 200**

OK.

.. code-block::

   {
     "kind" : "EventList",
     "apiVersion" : "v1",
     "metadata" : {
       "continue" : "52eddc13-cfad-42d3-aee4-92fea5813e7f"
     },
     "items" : [ {
       "kind" : "Event",
       "apiVersion" : "v1",
       "type" : "Warning",
       "firstTimestamp" : "2022-12-30T02:16:19Z",
       "lastTimestamp" : "2022-12-30T02:16:19Z",
       "count" : 1,
       "reason" : "PoolResourcesStatusChange",
       "message" : "Pool resources status changed, available/abnormal/creating/deleting count from 1/0/0/0 to 0/1/0/0, timestamp: 1672366579."
     }, {
       "kind" : "Event",
       "apiVersion" : "v1",
       "type" : "Normal",
       "firstTimestamp" : "2023-01-02T09:02:45Z",
       "lastTimestamp" : "2023-01-02T09:02:45Z",
       "count" : 1,
       "reason" : "PoolResourcesStatusChange",
       "message" : "Pool resources status changed, available/abnormal/creating/deleting count from 0/1/0/0 to 1/0/0/0, timestamp: 1672650165."
     }, {
       "kind" : "Event",
       "apiVersion" : "v1",
       "type" : "Warning",
       "firstTimestamp" : "2023-01-16T06:55:35Z",
       "lastTimestamp" : "2023-01-16T06:55:35Z",
       "count" : 1,
       "reason" : "PoolStatusChange",
       "message" : "Pool status changed, from Running to Abnormal, details: ."
     }, {
       "kind" : "Event",
       "apiVersion" : "v1",
       "type" : "Warning",
       "firstTimestamp" : "2023-01-16T06:57:51Z",
       "lastTimestamp" : "2023-01-16T06:57:51Z",
       "count" : 1,
       "reason" : "PoolResourcesStatusChange",
       "message" : "Pool resources status changed, available/abnormal/creating/deleting count from 1/0/0/0 to 0/1/0/0, timestamp: 1673852271."
     }, {
       "kind" : "Event",
       "apiVersion" : "v1",
       "type" : "Normal",
       "firstTimestamp" : "2023-01-29T02:29:04Z",
       "lastTimestamp" : "2023-01-29T02:29:04Z",
       "count" : 1,
       "reason" : "PoolStatusChange",
       "message" : "Pool status changed, from Abnormal to Running."
     } ]
   }

**Status code: 400**

Bad Request.

.. code-block::

   {
     "error_code" : "ModelArts.50004000",
     "error_msg" : "Bad request."
   }

**Status code: 404**

Not Found.

.. code-block::

   {
     "error_code" : "ModelArts.50015001",
     "error_msg" : "Pool {name} not found."
   }

Status Codes
------------

=========== ============
Status Code Description
=========== ============
200         OK.
400         Bad Request.
404         Not Found.
=========== ============

Error Codes
-----------

See :ref:`Error Codes <modelarts_03_0095>`.
