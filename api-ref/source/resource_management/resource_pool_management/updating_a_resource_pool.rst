:original_name: PatchPool.html

.. _PatchPool:

Updating a Resource Pool
========================

Function
--------

This API is used to update a specified resource pool.

URI
---

PATCH /v2/{project_id}/pools/{pool_name}

.. table:: **Table 1** Path Parameters

   +------------+-----------+--------+------------------------------------------------------------------------------------------+
   | Parameter  | Mandatory | Type   | Description                                                                              |
   +============+===========+========+==========================================================================================+
   | project_id | Yes       | String | Project ID. For details, see :ref:`Obtaining a Project ID and Name <modelarts_03_0147>`. |
   +------------+-----------+--------+------------------------------------------------------------------------------------------+
   | pool_name  | Yes       | String | Resource pool ID. The value is the **metadata.name** field in the resource pool details. |
   +------------+-----------+--------+------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 2** Request header parameters

   ============ ========= ====== ===============================
   Parameter    Mandatory Type   Description
   ============ ========= ====== ===============================
   Content-Type Yes       String Application/merge-patch + JSON.
   ============ ========= ====== ===============================

.. table:: **Table 3** Request body parameters

   +-----------+-----------+---------------------------------------------------------------------------------------------+---------------------------------+
   | Parameter | Mandatory | Type                                                                                        | Description                     |
   +===========+===========+=============================================================================================+=================================+
   | metadata  | No        | :ref:`PoolMetadataUpdate <en-us_topic_0000002374896497__request_poolmetadataupdate>` object | Metadata of a resource pool.    |
   +-----------+-----------+---------------------------------------------------------------------------------------------+---------------------------------+
   | spec      | No        | :ref:`PoolSpecUpdate <en-us_topic_0000002374896497__request_poolspecupdate>` object         | Description of a resource pool. |
   +-----------+-----------+---------------------------------------------------------------------------------------------+---------------------------------+

.. _en-us_topic_0000002374896497__request_poolmetadataupdate:

.. table:: **Table 4** PoolMetadataUpdate

   +-------------+-----------+---------------------------------------------------------------------------------------------------+----------------------------+
   | Parameter   | Mandatory | Type                                                                                              | Description                |
   +=============+===========+===================================================================================================+============================+
   | labels      | No        | :ref:`PoolLabelsUpdate <en-us_topic_0000002374896497__request_poollabelsupdate>` object           | Resource pool labels       |
   +-------------+-----------+---------------------------------------------------------------------------------------------------+----------------------------+
   | annotations | No        | :ref:`PoolAnnotationsUpdate <en-us_topic_0000002374896497__request_poolannotationsupdate>` object | Resource pool annotations. |
   +-------------+-----------+---------------------------------------------------------------------------------------------------+----------------------------+

.. _en-us_topic_0000002374896497__request_poollabelsupdate:

.. table:: **Table 5** PoolLabelsUpdate

   +---------------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                 | Mandatory       | Type            | Description                                                                                                                                |
   +===========================+=================+=================+============================================================================================================================================+
   | os.modelarts/workspace.id | No              | String          | Target workspace ID. The workspace ID cannot be changed at the same time as other resource pool modification operations (such as scaling). |
   +---------------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/sharing      | No              | String          | Whether the resource pool can be shared. The options are as follows:                                                                       |
   |                           |                 |                 |                                                                                                                                            |
   |                           |                 |                 | -  **unshared**: It cannot be shared.                                                                                                      |
   |                           |                 |                 |                                                                                                                                            |
   |                           |                 |                 | -  **shared**: It can be shared.                                                                                                           |
   +---------------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_poolannotationsupdate:

.. table:: **Table 6** PoolAnnotationsUpdate

   +----------------------------------+-----------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                        | Mandatory | Type   | Description                                                                                                                                               |
   +==================================+===========+========+===========================================================================================================================================================+
   | os.modelarts/description         | No        | String | Description of a resource pool, specifying the application scenarios of the resource pool. The following special characters are not allowed: ``!<>=&"'.`` |
   +----------------------------------+-----------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/scheduler.extension | No        | String | Priority that can be set for the jobs delivered by other users to the shared resource pool                                                                |
   +----------------------------------+-----------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_poolspecupdate:

.. table:: **Table 7** PoolSpecUpdate

   +-----------------+-----------------+-------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type                                                                                      | Description                                                                                                      |
   +=================+=================+===========================================================================================+==================================================================================================================+
   | scope           | No              | Array of strings                                                                          | Job type enabled. Options:                                                                                       |
   |                 |                 |                                                                                           |                                                                                                                  |
   |                 |                 |                                                                                           | -  **Train**: training jobs                                                                                      |
   |                 |                 |                                                                                           |                                                                                                                  |
   |                 |                 |                                                                                           | -  **Infer**: inference jobs                                                                                     |
   |                 |                 |                                                                                           |                                                                                                                  |
   |                 |                 |                                                                                           |    [- **Notebook**: notebook jobs](tags: hc)                                                                     |
   +-----------------+-----------------+-------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
   | resources       | No              | Array of :ref:`PoolResource <en-us_topic_0000002374896497__request_poolresource>` objects | Data model for the number of resources of the specified flavors in a resource pool and node pool configurations. |
   +-----------------+-----------------+-------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+
   | driver          | No              | :ref:`PoolDriver <en-us_topic_0000002374896497__request_pooldriver>` object               | Resource pool driver.                                                                                            |
   +-----------------+-----------------+-------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_poolresource:

.. table:: **Table 8** PoolResource

   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | Parameter          | Mandatory | Type                                                                                                    | Description                                                                                                    |
   +====================+===========+=========================================================================================================+================================================================================================================+
   | flavor             | Yes       | String                                                                                                  | Resource flavor name, for example, **modelarts.vm.gpu.tnt004**.                                                |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | count              | Yes       | Integer                                                                                                 | Minimum count for the flavors in a resource pool.                                                              |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | maxCount           | No        | Integer                                                                                                 | Elastic usage of the resource flavor. This parameter value is the same the **count** value in a physical pool. |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | azs                | No        | Array of :ref:`PoolNodeAz <en-us_topic_0000002374896497__request_poolnodeaz>` objects                   | AZ where resource pool nodes are deployed.                                                                     |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | tags               | No        | Array of :ref:`UserTag <en-us_topic_0000002374896497__request_usertag>` objects                         | Resource tags.                                                                                                 |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | extendParams       | No        | :ref:`PoolResourceExtendParams <en-us_topic_0000002374896497__request_poolresourceextendparams>` object | Custom configuration, for example, setting **dockerSize** for the node.                                        |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | creatingStep       | No        | :ref:`CreatingStep <en-us_topic_0000002374896497__request_creatingstep>` object                         | Batch creation information.                                                                                    |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | rootVolume         | No        | :ref:`RootVolume <en-us_topic_0000002374896497__request_rootvolume>` object                             | Custom system disk (cloud hard disk) information.                                                              |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | dataVolumes        | No        | Array of :ref:`DataVolumeItem <en-us_topic_0000002374896497__request_datavolumeitem>` objects           | List of custom data disks (cloud hard disks).                                                                  |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | volumeGroupConfigs | No        | Array of :ref:`VolumeGroupConfig <en-us_topic_0000002374896497__request_volumegroupconfig>` objects     | Advanced disk configurations. This parameter is mandatory when a custom data disk exists.                      |
   +--------------------+-----------+---------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_poolnodeaz:

.. table:: **Table 9** PoolNodeAz

   +-----------+-----------+---------+---------------------------------------------------------------+
   | Parameter | Mandatory | Type    | Description                                                   |
   +===========+===========+=========+===============================================================+
   | az        | Yes       | String  | AZ name.                                                      |
   +-----------+-----------+---------+---------------------------------------------------------------+
   | count     | Yes       | Integer | Number of nodes for expanding the capacity of a specified AZ. |
   +-----------+-----------+---------+---------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_usertag:

.. table:: **Table 10** UserTag

   +-----------+-----------+--------+---------------------------------------------------------------------+
   | Parameter | Mandatory | Type   | Description                                                         |
   +===========+===========+========+=====================================================================+
   | key       | Yes       | String | Key. The value cannot start with **CCE-** or **\__type_baremetal**. |
   +-----------+-----------+--------+---------------------------------------------------------------------+
   | value     | Yes       | String | Value.                                                              |
   +-----------+-----------+--------+---------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_poolresourceextendparams:

.. table:: **Table 11** PoolResourceExtendParams

   +----------------+-----------+--------+---------------------------------------------------------------------------+
   | Parameter      | Mandatory | Type   | Description                                                               |
   +================+===========+========+===========================================================================+
   | dockerBaseSize | No        | String | Size of the container image space on a node.                              |
   +----------------+-----------+--------+---------------------------------------------------------------------------+
   | postInstall    | No        | String | Post-installation script. The entered value must be encoded using Base64. |
   +----------------+-----------+--------+---------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_creatingstep:

.. table:: **Table 12** CreatingStep

   +-----------------+-----------------+-----------------+----------------------------------+
   | Parameter       | Mandatory       | Type            | Description                      |
   +=================+=================+=================+==================================+
   | step            | No              | Integer         | Creation step.                   |
   +-----------------+-----------------+-----------------+----------------------------------+
   | type            | No              | String          | Batch creation type.             |
   |                 |                 |                 |                                  |
   |                 |                 |                 | -  **rack**: entire rack         |
   |                 |                 |                 |                                  |
   |                 |                 |                 | -  **hyperinstance**: supernodes |
   +-----------------+-----------------+-----------------+----------------------------------+

.. _en-us_topic_0000002374896497__request_rootvolume:

.. table:: **Table 13** RootVolume

   +-----------------+-----------------+-----------------+----------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                            |
   +=================+=================+=================+========================================+
   | volumeType      | Yes             | String          | Disk type. The options are as follows: |
   |                 |                 |                 |                                        |
   |                 |                 |                 | -  **SSD**: ultra-high I/O disk        |
   |                 |                 |                 |                                        |
   |                 |                 |                 | -  **GPSSD**: general-purpose SSD      |
   |                 |                 |                 |                                        |
   |                 |                 |                 | -  **SAS**: high I/O disk              |
   +-----------------+-----------------+-----------------+----------------------------------------+
   | size            | Yes             | String          | Disk size, in GiB.                     |
   +-----------------+-----------------+-----------------+----------------------------------------+

.. _en-us_topic_0000002374896497__request_datavolumeitem:

.. table:: **Table 14** DataVolumeItem

   +-----------------+-----------------+---------------------------------------------------------------------------------------------+----------------------------------------+
   | Parameter       | Mandatory       | Type                                                                                        | Description                            |
   +=================+=================+=============================================================================================+========================================+
   | volumeType      | Yes             | String                                                                                      | Disk type. The options are as follows: |
   |                 |                 |                                                                                             |                                        |
   |                 |                 |                                                                                             | -  **SSD**: ultra-high I/O disk        |
   |                 |                 |                                                                                             |                                        |
   |                 |                 |                                                                                             | -  **GPSSD**: general-purpose SSD      |
   |                 |                 |                                                                                             |                                        |
   |                 |                 |                                                                                             | -  **SAS**: high I/O disk              |
   +-----------------+-----------------+---------------------------------------------------------------------------------------------+----------------------------------------+
   | size            | Yes             | String                                                                                      | Disk size, in GiB.                     |
   +-----------------+-----------------+---------------------------------------------------------------------------------------------+----------------------------------------+
   | count           | No              | Integer                                                                                     | Number of disks.                       |
   +-----------------+-----------------+---------------------------------------------------------------------------------------------+----------------------------------------+
   | extendParams    | Yes             | :ref:`VolumeExtendParams <en-us_topic_0000002374896497__request_volumeextendparams>` object | Custom disk configuration.             |
   +-----------------+-----------------+---------------------------------------------------------------------------------------------+----------------------------------------+

.. _en-us_topic_0000002374896497__request_volumeextendparams:

.. table:: **Table 15** VolumeExtendParams

   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                        |
   +=================+=================+=================+====================================================================================================================================================================+
   | volumeGroup     | Yes             | String          | Name of a disk group, which is used to divide storage space. The options are as follows:                                                                           |
   |                 |                 |                 |                                                                                                                                                                    |
   |                 |                 |                 | -  **vgpaas**: container disk.                                                                                                                                     |
   |                 |                 |                 |                                                                                                                                                                    |
   |                 |                 |                 | -  **default**: common data disk, which is mounted in default mode.                                                                                                |
   |                 |                 |                 |                                                                                                                                                                    |
   |                 |                 |                 | -  **vguser{num}**: common data disk, which is mounted to a specified path. The group name varies depending on the path, for example, **vguser1** and **vguser2**. |
   |                 |                 |                 |                                                                                                                                                                    |
   |                 |                 |                 | -  **vg-everest-localvolume-persistent**: common data disk, which is used as the persistent storage volume.                                                        |
   |                 |                 |                 |                                                                                                                                                                    |
   |                 |                 |                 | -  **vg-everest-localvolume-ephemeral**: common data disk, which is used as a temporary storage volume.                                                            |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_volumegroupconfig:

.. table:: **Table 16** VolumeGroupConfig

   +-----------------+-----------------+---------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type                                                                      | Description                                                                                                                                                        |
   +=================+=================+===========================================================================+====================================================================================================================================================================+
   | volumeGroup     | Yes             | String                                                                    | Disk group name. Index of the volume group in the dataVolumes.                                                                                                     |
   +-----------------+-----------------+---------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dockerThinPool  | No              | Integer                                                                   | Percentage of container disks to data disks on nodes in a resource pool. This parameter can be specified only when **volumeGroup** is **vgpaas** (container disk). |
   +-----------------+-----------------+---------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | lvmConfig       | No              | :ref:`LvmConfig <en-us_topic_0000002374896497__request_lvmconfig>` object | LVM configuration management.                                                                                                                                      |
   +-----------------+-----------------+---------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | types           | No              | Array of strings                                                          | Storage type. The options are as follows:                                                                                                                          |
   |                 |                 |                                                                           |                                                                                                                                                                    |
   |                 |                 |                                                                           | -  **volume**: cloud hard disk. When **dataVolumes** is specified, the default value is used.                                                                      |
   |                 |                 |                                                                           |                                                                                                                                                                    |
   |                 |                 |                                                                           | -  **local**: local disk. This parameter must be specified when a local disk is used.                                                                              |
   +-----------------+-----------------+---------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_lvmconfig:

.. table:: **Table 17** LvmConfig

   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                                         |
   +=================+=================+=================+=====================================================================================================================================================================================+
   | lvType          | Yes             | String          | LVM write mode. The options are as follows:                                                                                                                                         |
   |                 |                 |                 |                                                                                                                                                                                     |
   |                 |                 |                 | -  **linear**: linear mode.                                                                                                                                                         |
   |                 |                 |                 |                                                                                                                                                                                     |
   |                 |                 |                 | -  **striped**: striped mode in which multiple disks are used to form a strip to improve disk performance.                                                                          |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | path            | No              | String          | Disk mount path. This parameter takes effect only in user configuration. The value is an absolute path. Digits, letters, periods (.), hyphens (-), and underscores (_) are allowed. |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__request_pooldriver:

.. table:: **Table 18** PoolDriver

   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                        |
   +=================+=================+=================+====================================================================================================================================================+
   | gpuVersion      | No              | String          | GPU driver version. This parameter is available when GPUs are used in a physical resource pool. For example, the GPU driver version is **440.33**. |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | npuVersion      | No              | String          | NPU driver version.                                                                                                                                |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | updateStrategy  | No              | String          | Driver upgrade policy. Options:                                                                                                                    |
   |                 |                 |                 |                                                                                                                                                    |
   |                 |                 |                 | -  **force**: forcible upgrade. The node drivers are upgraded immediately, which may affect jobs running on the node.                              |
   |                 |                 |                 |                                                                                                                                                    |
   |                 |                 |                 | -  **idle**: secure upgrade. The drivers are upgraded when no job is running on the node.                                                          |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 19** Response body parameters

   +-----------------------+----------------------------------------------------------------------------------+---------------------------------+
   | Parameter             | Type                                                                             | Description                     |
   +=======================+==================================================================================+=================================+
   | apiVersion            | String                                                                           | API version. Options:           |
   |                       |                                                                                  |                                 |
   |                       |                                                                                  | -  **v2**                       |
   +-----------------------+----------------------------------------------------------------------------------+---------------------------------+
   | kind                  | String                                                                           | Resource type. Options:         |
   |                       |                                                                                  |                                 |
   |                       |                                                                                  | -  **Pool**: resource pool      |
   +-----------------------+----------------------------------------------------------------------------------+---------------------------------+
   | metadata              | :ref:`PoolMetadata <en-us_topic_0000002374896497__response_poolmetadata>` object | Metadata of a resource pool.    |
   +-----------------------+----------------------------------------------------------------------------------+---------------------------------+
   | spec                  | :ref:`PoolSpec <en-us_topic_0000002374896497__response_poolspec>` object         | Description of a resource pool. |
   +-----------------------+----------------------------------------------------------------------------------+---------------------------------+
   | status                | :ref:`PoolStatus <en-us_topic_0000002374896497__response_poolstatus>` object     | Status of a resource pool.      |
   +-----------------------+----------------------------------------------------------------------------------+---------------------------------+

.. _en-us_topic_0000002374896497__response_poolmetadata:

.. table:: **Table 20** PoolMetadata

   +-------------------+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   | Parameter         | Type                                                                                           | Description                                                                     |
   +===================+================================================================================================+=================================================================================+
   | name              | String                                                                                         | Automatically generated resource pool name, which is equivalent to **pool ID**. |
   +-------------------+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   | creationTimestamp | String                                                                                         | Timestamp, for example, 2021-11-01T03:49:41Z.                                   |
   +-------------------+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   | labels            | :ref:`PoolMetaLabels <en-us_topic_0000002374896497__response_poolmetalabels>` object           | Resource pool labels.                                                           |
   +-------------------+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+
   | annotations       | :ref:`PoolMetaAnnotations <en-us_topic_0000002374896497__response_poolmetaannotations>` object | Resource pool annotations.                                                      |
   +-------------------+------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolmetalabels:

.. table:: **Table 21** PoolMetaLabels

   +-------------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                     | Type                  | Description                                                                                                                                           |
   +===============================+=======================+=======================================================================================================================================================+
   | os.modelarts/workspace.id     | String                | Workspace ID                                                                                                                                          |
   +-------------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/name             | String                | Resource pool name specified by the user.                                                                                                             |
   +-------------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/resource.id      | String                | Resource ID of the resource pool.                                                                                                                     |
   +-------------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/tenant.domain.id | String                | ID of the tenant corresponding to the resource pool, which records the tenant account where the resource pool is created                              |
   +-------------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/create-from      | String                | Source of a resource pool, for example, **admin-console**, indicating that the resource pool is created by the administrator on the ModelArts console |
   +-------------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts.pool/biz         | String                | Business type of a resource pool. The value can be **public** or **private**.                                                                         |
   +-------------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/sharing          | String                | Whether the resource pool can be shared. Options:                                                                                                     |
   |                               |                       |                                                                                                                                                       |
   |                               |                       | -  **unshared**: It cannot be shared.                                                                                                                 |
   |                               |                       |                                                                                                                                                       |
   |                               |                       | -  **shared**: It can be shared.                                                                                                                      |
   +-------------------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolmetaannotations:

.. table:: **Table 22** PoolMetaAnnotations

   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                                                | Type   | Description                                                                                                                                                                                                                                                                                                                       |
   +==========================================================+========+===================================================================================================================================================================================================================================================================================================================================+
   | os.modelarts/description                                 | String | Description of a resource pool.                                                                                                                                                                                                                                                                                                   |
   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/billing.mode                                | String | Billing mode.                                                                                                                                                                                                                                                                                                                     |
   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/flavor.resource.ids                         | String | Resource ID corresponding to each flavor.                                                                                                                                                                                                                                                                                         |
   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/tms.tags                                    | String | Resource tags specified by the user during resource pool creation.                                                                                                                                                                                                                                                                |
   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/scheduler.extension                         | String | Priority that can be set for the jobs delivered by other users to the shared resource pool                                                                                                                                                                                                                                        |
   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts/volcano.scheduler.cabinet-exclusive.enabled | String | Whether a resource pool that is not provisioned for an entire cabinet can deliver the job of an entire cabinet. If this annotation exists, the resource pool can deliver such a job. By default, a resource pool provisioned for an entire cabinet (that is, **creatingStep** resources of the rack type) supports this function. |
   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts.pool/scope.external.dependency.Train        | String | External dependency ID of training.                                                                                                                                                                                                                                                                                               |
   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts.pool/scope.external.dependency.Infer        | String | External dependency ID of inference.                                                                                                                                                                                                                                                                                              |
   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os.modelarts.pool/scope.external.dependency.Notebook     | String | External dependency ID of the development environment.                                                                                                                                                                                                                                                                            |
   +----------------------------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolspec:

.. table:: **Table 23** PoolSpec

   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                                           | Description                                                                                                                                   |
   +=======================+================================================================================================================+===============================================================================================================================================+
   | type                  | String                                                                                                         | Resource pool type. The options are as follows:                                                                                               |
   |                       |                                                                                                                |                                                                                                                                               |
   |                       |                                                                                                                | -  **Dedicate**: physical resource pool, which uses a separate network and supports network connection, custom drivers, and custom job types. |
   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | scope                 | Array of strings                                                                                               | Job type enabled. Options:                                                                                                                    |
   |                       |                                                                                                                |                                                                                                                                               |
   |                       |                                                                                                                | -  **Train**: training jobs                                                                                                                   |
   |                       |                                                                                                                |                                                                                                                                               |
   |                       |                                                                                                                | -  **Infer**: inference jobs                                                                                                                  |
   |                       |                                                                                                                |                                                                                                                                               |
   |                       |                                                                                                                |    [- **Notebook**: notebook jobs](tags: hc)                                                                                                  |
   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | resources             | Array of :ref:`PoolResource <en-us_topic_0000002374896497__response_poolresource>` objects                     | Resource flavor list in a resource pool, including resource flavors, the number of resources for each flavor, and node pool information.      |
   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | network               | :ref:`PoolNetwork <en-us_topic_0000002374896497__response_poolnetwork>` object                                 | Network settings for a resource pool. This parameter is mandatory for physical resource pools.                                                |
   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | containerNetwork      | :ref:`PoolClusterContainerNetwork <en-us_topic_0000002374896497__response_poolclustercontainernetwork>` object | Kubernetes container network                                                                                                                  |
   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | kubernetesSvcIpRange  | String                                                                                                         | CIDR of the Kubernetes service network segment                                                                                                |
   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | masters               | Array of :ref:`PoolClusterMaster <en-us_topic_0000002374896497__response_poolclustermaster>` objects           | Master node parameters in a resource pool. This parameter is optional for physical resource pools.                                            |
   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | clusterFlavor         | String                                                                                                         | Cluster flavor of a standard pool.                                                                                                            |
   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+
   | driver                | :ref:`PoolDriver <en-us_topic_0000002374896497__response_pooldriver>` object                                   | Resource pool driver.                                                                                                                         |
   +-----------------------+----------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolresource:

.. table:: **Table 24** PoolResource

   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | Parameter          | Type                                                                                                     | Description                                                                                                    |
   +====================+==========================================================================================================+================================================================================================================+
   | flavor             | String                                                                                                   | Resource flavor name, for example, **modelarts.vm.gpu.tnt004**.                                                |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | count              | Integer                                                                                                  | Minimum count for the flavors in a resource pool.                                                              |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | maxCount           | Integer                                                                                                  | Elastic usage of the resource flavor. This parameter value is the same the **count** value in a physical pool. |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | azs                | Array of :ref:`PoolNodeAz <en-us_topic_0000002374896497__response_poolnodeaz>` objects                   | AZ where resource pool nodes are deployed.                                                                     |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | tags               | Array of :ref:`UserTag <en-us_topic_0000002374896497__response_usertag>` objects                         | Resource tags.                                                                                                 |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | extendParams       | :ref:`PoolResourceExtendParams <en-us_topic_0000002374896497__response_poolresourceextendparams>` object | Custom configuration, for example, setting **dockerSize** for the node.                                        |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | creatingStep       | :ref:`CreatingStep <en-us_topic_0000002374896497__response_creatingstep>` object                         | Batch creation information.                                                                                    |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | rootVolume         | :ref:`RootVolume <en-us_topic_0000002374896497__response_rootvolume>` object                             | Custom system disk (cloud hard disk) information.                                                              |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | dataVolumes        | Array of :ref:`DataVolumeItem <en-us_topic_0000002374896497__response_datavolumeitem>` objects           | List of custom data disks (cloud hard disks).                                                                  |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+
   | volumeGroupConfigs | Array of :ref:`VolumeGroupConfig <en-us_topic_0000002374896497__response_volumegroupconfig>` objects     | Advanced disk configurations. This parameter is mandatory when a custom data disk exists.                      |
   +--------------------+----------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_usertag:

.. table:: **Table 25** UserTag

   +-----------+--------+---------------------------------------------------------------------+
   | Parameter | Type   | Description                                                         |
   +===========+========+=====================================================================+
   | key       | String | Key. The value cannot start with **CCE-** or **\__type_baremetal**. |
   +-----------+--------+---------------------------------------------------------------------+
   | value     | String | Value.                                                              |
   +-----------+--------+---------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolresourceextendparams:

.. table:: **Table 26** PoolResourceExtendParams

   +----------------+--------+---------------------------------------------------------------------------+
   | Parameter      | Type   | Description                                                               |
   +================+========+===========================================================================+
   | dockerBaseSize | String | Size of the container image space on a node.                              |
   +----------------+--------+---------------------------------------------------------------------------+
   | postInstall    | String | Post-installation script. The entered value must be encoded using Base64. |
   +----------------+--------+---------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_rootvolume:

.. table:: **Table 27** RootVolume

   +-----------------------+-----------------------+----------------------------------------+
   | Parameter             | Type                  | Description                            |
   +=======================+=======================+========================================+
   | volumeType            | String                | Disk type. The options are as follows: |
   |                       |                       |                                        |
   |                       |                       | -  **SSD**: ultra-high I/O disk        |
   |                       |                       |                                        |
   |                       |                       | -  **GPSSD**: general-purpose SSD      |
   |                       |                       |                                        |
   |                       |                       | -  **SAS**: high I/O disk              |
   +-----------------------+-----------------------+----------------------------------------+
   | size                  | String                | Disk size, in GiB.                     |
   +-----------------------+-----------------------+----------------------------------------+

.. _en-us_topic_0000002374896497__response_datavolumeitem:

.. table:: **Table 28** DataVolumeItem

   +-----------------------+----------------------------------------------------------------------------------------------+----------------------------------------+
   | Parameter             | Type                                                                                         | Description                            |
   +=======================+==============================================================================================+========================================+
   | volumeType            | String                                                                                       | Disk type. The options are as follows: |
   |                       |                                                                                              |                                        |
   |                       |                                                                                              | -  **SSD**: ultra-high I/O disk        |
   |                       |                                                                                              |                                        |
   |                       |                                                                                              | -  **GPSSD**: general-purpose SSD      |
   |                       |                                                                                              |                                        |
   |                       |                                                                                              | -  **SAS**: high I/O disk              |
   +-----------------------+----------------------------------------------------------------------------------------------+----------------------------------------+
   | size                  | String                                                                                       | Disk size, in GiB.                     |
   +-----------------------+----------------------------------------------------------------------------------------------+----------------------------------------+
   | count                 | Integer                                                                                      | Number of disks.                       |
   +-----------------------+----------------------------------------------------------------------------------------------+----------------------------------------+
   | extendParams          | :ref:`VolumeExtendParams <en-us_topic_0000002374896497__response_volumeextendparams>` object | Custom disk configuration.             |
   +-----------------------+----------------------------------------------------------------------------------------------+----------------------------------------+

.. _en-us_topic_0000002374896497__response_volumeextendparams:

.. table:: **Table 29** VolumeExtendParams

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                        |
   +=======================+=======================+====================================================================================================================================================================+
   | volumeGroup           | String                | Name of a disk group, which is used to divide storage space. The options are as follows:                                                                           |
   |                       |                       |                                                                                                                                                                    |
   |                       |                       | -  **vgpaas**: container disk.                                                                                                                                     |
   |                       |                       |                                                                                                                                                                    |
   |                       |                       | -  **default**: common data disk, which is mounted in default mode.                                                                                                |
   |                       |                       |                                                                                                                                                                    |
   |                       |                       | -  **vguser{num}**: common data disk, which is mounted to a specified path. The group name varies depending on the path, for example, **vguser1** and **vguser2**. |
   |                       |                       |                                                                                                                                                                    |
   |                       |                       | -  **vg-everest-localvolume-persistent**: common data disk, which is used as the persistent storage volume.                                                        |
   |                       |                       |                                                                                                                                                                    |
   |                       |                       | -  **vg-everest-localvolume-ephemeral**: common data disk, which is used as a temporary storage volume.                                                            |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_volumegroupconfig:

.. table:: **Table 30** VolumeGroupConfig

   +-----------------------+----------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                       | Description                                                                                                                                                        |
   +=======================+============================================================================+====================================================================================================================================================================+
   | volumeGroup           | String                                                                     | Disk group name. Index of the volume group in the dataVolumes.                                                                                                     |
   +-----------------------+----------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dockerThinPool        | Integer                                                                    | Percentage of container disks to data disks on nodes in a resource pool. This parameter can be specified only when **volumeGroup** is **vgpaas** (container disk). |
   +-----------------------+----------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | lvmConfig             | :ref:`LvmConfig <en-us_topic_0000002374896497__response_lvmconfig>` object | LVM configuration management.                                                                                                                                      |
   +-----------------------+----------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | types                 | Array of strings                                                           | Storage type. The options are as follows:                                                                                                                          |
   |                       |                                                                            |                                                                                                                                                                    |
   |                       |                                                                            | -  **volume**: cloud hard disk. When **dataVolumes** is specified, the default value is used.                                                                      |
   |                       |                                                                            |                                                                                                                                                                    |
   |                       |                                                                            | -  **local**: local disk. This parameter must be specified when a local disk is used.                                                                              |
   +-----------------------+----------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_lvmconfig:

.. table:: **Table 31** LvmConfig

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                         |
   +=======================+=======================+=====================================================================================================================================================================================+
   | lvType                | String                | LVM write mode. The options are as follows:                                                                                                                                         |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | -  **linear**: linear mode.                                                                                                                                                         |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | -  **striped**: striped mode in which multiple disks are used to form a strip to improve disk performance.                                                                          |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | path                  | String                | Disk mount path. This parameter takes effect only in user configuration. The value is an absolute path. Digits, letters, periods (.), hyphens (-), and underscores (_) are allowed. |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolnetwork:

.. table:: **Table 32** PoolNetwork

   +-----------+--------+-------------------------------------------------------------------------------------------------------+
   | Parameter | Type   | Description                                                                                           |
   +===========+========+=======================================================================================================+
   | name      | String | Network name. The value is obtained from the **metadata.name** field in the network resource details. |
   +-----------+--------+-------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolclustercontainernetwork:

.. table:: **Table 33** PoolClusterContainerNetwork

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                                                                                                  |
   +=======================+=======================+==============================================================================================================================================================================================================================================================+
   | mode                  | String                | Container network model. The options are as follows:                                                                                                                                                                                                         |
   |                       |                       |                                                                                                                                                                                                                                                              |
   |                       |                       | -  **overlay_l2**: an overlay_l2 network (container tunnel network) built for containers by using OpenVSwitch (OVS).                                                                                                                                         |
   |                       |                       |                                                                                                                                                                                                                                                              |
   |                       |                       | -  **vpc-router**: an underlay_l2 network built for containers by using IPvlan and custom VPC routes.                                                                                                                                                        |
   |                       |                       |                                                                                                                                                                                                                                                              |
   |                       |                       | -  **eni**: Cloud Native Network 2.0. This model deeply integrates the native ENI capability of VPC, uses the VPC CIDR block to allocate container addresses, and supports passthrough networking. You can use this model when creating a CCE Turbo cluster. |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cidr                  | String                | Container network segment. This parameter is valid only when the container network model is **overlay_l2** or **vpc-router**.                                                                                                                                |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolclustermaster:

.. table:: **Table 34** PoolClusterMaster

   ========= ====== ===================================
   Parameter Type   Description
   ========= ====== ===================================
   az        String AZ where the master node is located
   ========= ====== ===================================

.. _en-us_topic_0000002374896497__response_pooldriver:

.. table:: **Table 35** PoolDriver

   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                        |
   +=======================+=======================+====================================================================================================================================================+
   | gpuVersion            | String                | GPU driver version. This parameter is available when GPUs are used in a physical resource pool. For example, the GPU driver version is **440.33**. |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | npuVersion            | String                | NPU driver version.                                                                                                                                |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | updateStrategy        | String                | Driver upgrade policy. Options:                                                                                                                    |
   |                       |                       |                                                                                                                                                    |
   |                       |                       | -  **force**: forcible upgrade. The node drivers are upgraded immediately, which may affect jobs running on the node.                              |
   |                       |                       |                                                                                                                                                    |
   |                       |                       | -  **idle**: secure upgrade. The drivers are upgraded when no job is running on the node.                                                          |
   +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolstatus:

.. table:: **Table 36** PoolStatus

   +-----------------------+--------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                             | Description                                                                                                                 |
   +=======================+==================================================================================================+=============================================================================================================================+
   | phase                 | String                                                                                           | Resource pool status. Options:                                                                                              |
   |                       |                                                                                                  |                                                                                                                             |
   |                       |                                                                                                  | -  **Creating**: The resource pool is being created.                                                                        |
   |                       |                                                                                                  |                                                                                                                             |
   |                       |                                                                                                  | -  **Running**: The resource pool is running.                                                                               |
   |                       |                                                                                                  |                                                                                                                             |
   |                       |                                                                                                  | -  **Abnormal**: The resource pool malfunctions.                                                                            |
   |                       |                                                                                                  |                                                                                                                             |
   |                       |                                                                                                  | -  **Deleting**: The resource pool is being deleted.                                                                        |
   |                       |                                                                                                  |                                                                                                                             |
   |                       |                                                                                                  | -  **Error**: An error occurred in the resource pool.                                                                       |
   |                       |                                                                                                  |                                                                                                                             |
   |                       |                                                                                                  | -  **CreationFailed**: Creating the resource pool failed.                                                                   |
   |                       |                                                                                                  |                                                                                                                             |
   |                       |                                                                                                  | -  **ScalingFailed**: Expanding the capacity of the resource pool failed.                                                   |
   |                       |                                                                                                  |                                                                                                                             |
   |                       |                                                                                                  | -  **Waiting**: The resource pool is awaiting creation, which is typically caused by an unpaid order or unapproved request. |
   +-----------------------+--------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | message               | String                                                                                           | Message indicating that the resource pool is in the current state.                                                          |
   +-----------------------+--------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | resources             | :ref:`PoolResourceStatus <en-us_topic_0000002374896497__response_poolresourcestatus>` object     | The amount of resources in different states in the resource pool.                                                           |
   +-----------------------+--------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | scope                 | Array of :ref:`PoolScopeStatus <en-us_topic_0000002374896497__response_poolscopestatus>` objects | Service status of a resource pool.                                                                                          |
   +-----------------------+--------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | driver                | :ref:`PoolDriverListStatus <en-us_topic_0000002374896497__response_pooldriverliststatus>` object | Resource pool driver.                                                                                                       |
   +-----------------------+--------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | parent                | String                                                                                           | Name of the parent node of a resource pool. This parameter is left blank for physical pools.                                |
   +-----------------------+--------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+
   | root                  | String                                                                                           | Name of the root node in a resource pool. For a physical pool, the value is its name.                                       |
   +-----------------------+--------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolresourcestatus:

.. table:: **Table 37** PoolResourceStatus

   +-----------+------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------+
   | Parameter | Type                                                                                                             | Description                                                            |
   +===========+==================================================================================================================+========================================================================+
   | creating  | Array of :ref:`PoolResourceFlavorCount <en-us_topic_0000002374896497__response_poolresourceflavorcount>` objects | Data model for the number of resources of the specified specifications |
   +-----------+------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------+
   | available | Array of :ref:`PoolResourceFlavorCount <en-us_topic_0000002374896497__response_poolresourceflavorcount>` objects | Data model for the number of resources of the specified specifications |
   +-----------+------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------+
   | abnormal  | Array of :ref:`PoolResourceFlavorCount <en-us_topic_0000002374896497__response_poolresourceflavorcount>` objects | Data model for the number of resources of the specified specifications |
   +-----------+------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------+
   | deleting  | Array of :ref:`PoolResourceFlavorCount <en-us_topic_0000002374896497__response_poolresourceflavorcount>` objects | Data model for the number of resources of the specified specifications |
   +-----------+------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolresourceflavorcount:

.. table:: **Table 38** PoolResourceFlavorCount

   +--------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | Parameter    | Type                                                                                   | Description                                                                                                            |
   +==============+========================================================================================+========================================================================================================================+
   | flavor       | String                                                                                 | Resource flavor name, for example, **modelarts.vm.gpu.tnt004**.                                                        |
   +--------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | count        | Integer                                                                                | Minimum count for the specifications in a resource pool                                                                |
   +--------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | maxCount     | Integer                                                                                | Elastic usage of the resource specifications. This parameter value is the same the **count** value in a physical pool. |
   +--------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | azs          | Array of :ref:`PoolNodeAz <en-us_topic_0000002374896497__response_poolnodeaz>` objects | AZ where resource pool nodes are deployed.                                                                             |
   +--------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | creatingStep | :ref:`CreatingStep <en-us_topic_0000002374896497__response_creatingstep>` object       | Batch creation information.                                                                                            |
   +--------------+----------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolnodeaz:

.. table:: **Table 39** PoolNodeAz

   +-----------+---------+---------------------------------------------------------------+
   | Parameter | Type    | Description                                                   |
   +===========+=========+===============================================================+
   | az        | String  | AZ name.                                                      |
   +-----------+---------+---------------------------------------------------------------+
   | count     | Integer | Number of nodes for expanding the capacity of a specified AZ. |
   +-----------+---------+---------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_creatingstep:

.. table:: **Table 40** CreatingStep

   +-----------------------+-----------------------+----------------------------------+
   | Parameter             | Type                  | Description                      |
   +=======================+=======================+==================================+
   | step                  | Integer               | Creation step.                   |
   +-----------------------+-----------------------+----------------------------------+
   | type                  | String                | Batch creation type.             |
   |                       |                       |                                  |
   |                       |                       | -  **rack**: entire rack         |
   |                       |                       |                                  |
   |                       |                       | -  **hyperinstance**: supernodes |
   +-----------------------+-----------------------+----------------------------------+

.. _en-us_topic_0000002374896497__response_poolscopestatus:

.. table:: **Table 41** PoolScopeStatus

   +-----------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------+
   | Parameter             | Type                                                                                                       | Description                                                |
   +=======================+============================================================================================================+============================================================+
   | scopeType             | String                                                                                                     | Enabled job types. The options are as follows:             |
   |                       |                                                                                                            |                                                            |
   |                       |                                                                                                            | -  **Train**: training jobs                                |
   |                       |                                                                                                            |                                                            |
   |                       |                                                                                                            | -  **Infer**: inference jobs                               |
   |                       |                                                                                                            |                                                            |
   |                       |                                                                                                            | -  **Notebook**: notebook jobs                             |
   +-----------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------+
   | state                 | String                                                                                                     | Service status. The options are as follows:                |
   |                       |                                                                                                            |                                                            |
   |                       |                                                                                                            | -  **Enabling**: The service is being enabled.             |
   |                       |                                                                                                            |                                                            |
   |                       |                                                                                                            | -  **Enabled**: The service has been enabled.              |
   |                       |                                                                                                            |                                                            |
   |                       |                                                                                                            | -  **EnableFailed**: The service fails to be enabled.      |
   |                       |                                                                                                            |                                                            |
   |                       |                                                                                                            | -  **Disabling**: The service is being disabled.           |
   |                       |                                                                                                            |                                                            |
   |                       |                                                                                                            | -  **Disabled**: The service has been disabled.            |
   +-----------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------+
   | plugins               | Array of :ref:`PoolScopePluginPhase <en-us_topic_0000002374896497__response_poolscopepluginphase>` objects | Plug-in status.                                            |
   +-----------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------+
   | message               | String                                                                                                     | Cause of the failure to enable or disable the environment. |
   +-----------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------+

.. _en-us_topic_0000002374896497__response_poolscopepluginphase:

.. table:: **Table 42** PoolScopePluginPhase

   +-----------------------+-----------------------+------------------------------------------------+
   | Parameter             | Type                  | Description                                    |
   +=======================+=======================+================================================+
   | name                  | String                | Plug-in type.                                  |
   +-----------------------+-----------------------+------------------------------------------------+
   | phase                 | String                | Plug-in status. The options are as follows:    |
   |                       |                       |                                                |
   |                       |                       | -  **Pending**: The plug-in is pending.        |
   |                       |                       |                                                |
   |                       |                       | -  **Running**: The plug-in is running.        |
   |                       |                       |                                                |
   |                       |                       | -  **Updating**: The plug-in is being updated. |
   |                       |                       |                                                |
   |                       |                       | -  **Abnormal**: The plug-in is abnormal.      |
   |                       |                       |                                                |
   |                       |                       | -  **Deleting**: The plug-in is being deleted. |
   +-----------------------+-----------------------+------------------------------------------------+

.. _en-us_topic_0000002374896497__response_pooldriverliststatus:

.. table:: **Table 43** PoolDriverListStatus

   +-----------+------------------------------------------------------------------------------------------+-------------------------+
   | Parameter | Type                                                                                     | Description             |
   +===========+==========================================================================================+=========================+
   | gpu       | :ref:`PoolDriverStatus <en-us_topic_0000002374896497__response_pooldriverstatus>` object | GPU driver information. |
   +-----------+------------------------------------------------------------------------------------------+-------------------------+
   | npu       | :ref:`PoolDriverStatus <en-us_topic_0000002374896497__response_pooldriverstatus>` object | NPU driver information. |
   +-----------+------------------------------------------------------------------------------------------+-------------------------+

.. _en-us_topic_0000002374896497__response_pooldriverstatus:

.. table:: **Table 44** PoolDriverStatus

   +-----------------------+-----------------------+-------------------------------------------------+
   | Parameter             | Type                  | Description                                     |
   +=======================+=======================+=================================================+
   | version               | String                | Driver version                                  |
   +-----------------------+-----------------------+-------------------------------------------------+
   | state                 | String                | Driver status. Options:                         |
   |                       |                       |                                                 |
   |                       |                       | -  **Creating**: The driver is being created.   |
   |                       |                       |                                                 |
   |                       |                       | -  **Upgrading**: The driver is being upgraded. |
   |                       |                       |                                                 |
   |                       |                       | -  **Running**: The driver is running.          |
   |                       |                       |                                                 |
   |                       |                       | -  **Abnormal**: The driver malfunctions.       |
   +-----------------------+-----------------------+-------------------------------------------------+

**Status code: 400**

.. table:: **Table 45** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

**Status code: 404**

.. table:: **Table 46** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

Example Requests
----------------

Expand the capacity of a resource pool.

.. code-block::

   PATCH https://{endpoint}/v2/{project_id}/pools/{pool_name}

   {
     "spec" : {
       "resources" : [ {
         "flavor" : "modelarts.vm.cpu.4ud",
         "count" : 3
       } ]
     }
   }

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   {
     "kind" : "Pool",
     "apiVersion" : "v2",
     "metadata" : {
       "name" : "auto-pool-os-86c13962597848eeb29c5861153a391f",
       "creationTimestamp" : "2022-09-16T03:10:40Z",
       "labels" : {
         "os.modelarts/name" : "auto-pool-os",
         "os.modelarts/resource.id" : "maos-auto-pool-os-72w8d"
       },
       "annotations" : {
         "os.modelarts/description" : "",
         "os.modelarts/billing.mode" : "0"
       }
     },
     "spec" : {
       "type" : "Dedicate",
       "scope" : [ "Train", "Infer" ],
       "resources" : [ {
         "flavor" : "modelarts.vm.cpu.4ud",
         "count" : 3
       } ],
       "network" : {
         "name" : "network-maos-86c13962597848eeb29c5861153a391f"
       }
     },
     "status" : {
       "phase" : "Running",
       "root" : "auto-pool-os-86c13962597848eeb29c5861153a391f",
       "scope" : [ {
         "scopeType" : "Train",
         "state" : "Enabled"
       }, {
         "scopeType" : "Infer",
         "state" : "Enabled"
       } ],
       "resources" : {
         "creating" : [ {
           "flavor" : "modelarts.vm.cpu.4ud",
           "count" : 1,
           "azs" : [ {
             "az" : "az-7c",
             "count" : 1
           } ]
         } ],
         "available" : [ {
           "flavor" : "modelarts.vm.cpu.4ud",
           "count" : 2,
           "azs" : [ {
             "az" : "az-7c",
             "count" : 2
           } ]
         } ]
       }
     }
   }

**Status code: 400**

Bad request

.. code-block::

   {
     "error_code" : "ModelArts.50004000",
     "error_msg" : "Bad request"
   }

**Status code: 404**

Not found.

.. code-block::

   {
     "error_code" : "ModelArts.50015001",
     "error_msg" : "pool not found"
   }

Status Codes
------------

=========== ===========
Status Code Description
=========== ===========
200         OK
400         Bad request
404         Not found.
=========== ===========

Error Codes
-----------

See :ref:`Error Codes <modelarts_03_0095>`.
