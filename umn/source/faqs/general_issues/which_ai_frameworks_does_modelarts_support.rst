:original_name: modelarts_05_0128.html

.. _modelarts_05_0128:

Which AI Frameworks Does ModelArts Support?
===========================================

The AI frameworks and versions supported by ModelArts vary slightly based on the development environment notebook, training jobs, and model inference (AI application management and deployment). The following describes the AI frameworks supported by each module.

Development Environment Notebook
--------------------------------

The image and versions supported by development environment notebook instances vary based on runtime environments.

.. table:: **Table 1** Images supported by notebook of the new version

   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | Image                                                     | Description                                                                                                                                | Supported Chip | Remote SSH | Online JupyterLab |
   +===========================================================+============================================================================================================================================+================+============+===================+
   | pytorch1.8-cuda10.2-cudnn7-ubuntu18.04                    | CPU and GPU general algorithm development and training, preconfigured with AI engine PyTorch1.8                                            | CPU/GPU        | Yes        | Yes               |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | pytorch1.4-cuda10.1-cudnn7-ubuntu18.04                    | CPU and GPU general algorithm development and training, preconfigured with AI engine PyTorch1.4                                            | CPU/GPU        | Yes        | Yes               |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | tensorflow2.1-cuda10.1-cudnn7-ubuntu18.04                 | CPU and GPU general algorithm development and training, preconfigured with AI engine TensorFlow2.1                                         | CPU/GPU        | Yes        | Yes               |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | tensorflow1.15-mindspore1.5.1-cann5.0.3-euler2.8-aarch64  | Ascend+ARM algorithm development and training. TensorFlow and MindSpore are preset in the AI engine.                                       | Ascend         | Yes        | Yes               |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | tensorflow1.13-cuda10.0-cudnn7-ubuntu18.04                | GPU algorithm development and training, preconfigured with AI engine TensorFlow1.13.1                                                      | GPU            | Yes        | Yes               |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | mindspore1.2.0-cuda10.1-cudnn7-ubuntu18.04                | GPU algorithm development and training, preconfigured with the AI engine MindSpore-GPU                                                     | GPU            | Yes        | Yes               |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | mindspore1.2.0-openmpi2.1.1-ubuntu18.04                   | CPU algorithm development and training, preconfigured with the AI engine MindSpore-CPU                                                     | CPU            | Yes        | Yes               |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | modelbox1.1.3.1-libtorch1.9.1--cuda10.2-cudnn8-euler2.9.6 | AI inference application development, preconfigured ModelBox and AI engine LibTorch, only SSH connection supported.                        | GPU            | Yes        | No                |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | modelbox1.1.3.1-tensorrt7.1.3-cuda10.2-cudnn8-euler2.9.6  | AI inference application development, preconfigured ModelBox and AI engine TensorRT, only SSH connection supported.                        | GPU            | Yes        | No                |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+
   | pyspark2.4.5-ubuntu18.04                                  | CPU algorithm development and training, prebuilt PySpark 2.4.5 and is able to attach to preconfigured spark cluster including MRS and DLI. | CPU            | No         | Yes               |
   +-----------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+----------------+------------+-------------------+

.. table:: **Table 2** Images supported by notebook of the old version

   +-----------------------------------------+--------------------------------+----------------+
   | Work Environment                        | Built-in AI Engine and Version | Supported Chip |
   +=========================================+================================+================+
   | Multi-Engine 1.0 (Python3, Recommended) | MXNet 1.2.1                    | CPU and GPU    |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | PySpark 2.3.2                  | CPU            |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | PyTorch 1.0.0                  | GPU            |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | TensorFlow 1.13.1              | CPU and GPU    |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | TensorFlow 1.8                 | CPU and GPU    |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | XGBoost-Sklearn                | CPU            |
   +-----------------------------------------+--------------------------------+----------------+
   | Multi-Engine 1.0 (Python2)              | Caffe-1.0.0                    | CPU and GPU    |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | MXNet 1.2.1                    | CPU and GPU    |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | PySpark 2.3.2                  | CPU            |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | PyTorch 1.0.0                  | GPU            |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | TensorFlow 1.13.1              | CPU and GPU    |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | TensorFlow 1.8                 | CPU and GPU    |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | XGBoost-Sklearn                | CPU            |
   +-----------------------------------------+--------------------------------+----------------+
   | Multi-Engine 2.0 (Python3)              | PyTorch 1.4.0                  | GPU            |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | R-3.6.1                        | CPU and GPU    |
   +-----------------------------------------+--------------------------------+----------------+
   |                                         | TensorFlow 2.1.0               | CPU and GPU    |
   +-----------------------------------------+--------------------------------+----------------+

Training Jobs
-------------

.. table:: **Table 3** AI engines supported by training jobs of the new version

   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | Work Environment      | Supported Chip | System Architecture | System Version | AI Engine and Version                                                | Supported CUDA or Ascend Version |
   +=======================+================+=====================+================+======================================================================+==================================+
   | TensorFlow            | CPU and GPU    | x86_64              | Ubuntu 18.04   | tensorflow_2.1.0-cuda_10.1-py_3.7-ubuntu_18.04-x86_64                | CUDA 10.1                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | PyTorch               | CPU and GPU    | x86_64              | Ubuntu 18.04   | pytorch_1.8.0-cuda_10.2-py_3.7-ubuntu_18.04-x86_64                   | CUDA 10.2                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | Ascend-Powered-Engine | Ascend         | AArch64             | Euler 2.8      | mindspore_1.7.0-cann_5.1.0-py_3.7-euler_2.8.3-aarch64                | CANN 5.1.0                       |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       |                |                     |                | tensorflow_1.15-cann_5.1.0-py_3.7-euler_2.8.3-aarch64                | CANN 5.1.0                       |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | MPI                   | CPU and GPU    | x86_64              | Ubuntu 18.04   | mindspore_1.3.0-cuda_10.1-py_3.7-ubuntu_1804-x86_64                  | CUDA 10.1                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | Horovod               | GPU            | x86_64              | Ubuntu18.04    | horovod_0.20.0-tensorflow_2.1.0-cuda_10.1-py_3.7-ubuntu_18.04-x86_64 | CUDA 10.1                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       |                |                     |                | horovod_0.22.1-pytorch_1.8.0-cuda_10.2-py_3.7-ubuntu_18.04-x86_64    | CUDA 10.2                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+

.. table:: **Table 4** AI engines supported by training jobs of the new version

   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | Work Environment      | Supported Chip | System Architecture | System Version | AI Engine and Version                                                | Supported CUDA or Ascend Version |
   +=======================+================+=====================+================+======================================================================+==================================+
   | TensorFlow            | CPU and GPU    | x86_64              | Ubuntu 18.04   | tensorflow_2.1.0-cuda_10.1-py_3.7-ubuntu_18.04-x86_64                | CUDA 10.1                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       | GPU            | x86_64              | Ubuntu 20.04   | tensorflow_1.15.5-cuda_11.4-py_3.8-ubuntu_20.04-x86_64               | CUDA 11.4                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       | CPU and GPU    | x86_64              | Ubuntu 18.04   | tensorflow_2.6.0-cuda_11.2-py_3.7-ubuntu_18.04-x86_64                | CUDA 11.2                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | PyTorch               | CPU and GPU    | x86_64              | Ubuntu 18.04   | pytorch_1.8.0-cuda_10.2-py_3.7-ubuntu_18.04-x86_64                   | CUDA 10.2                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       | CPU and GPU    | x86_64              | Ubuntu 18.04   | pytorch_1.8.2-cuda_11.1-py_3.7-ubuntu_18.04-x86_64                   | CUDA 11.1                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | Ascend-Powered-Engine | Ascend 910     | AArch64             | Euler 2.8      | mindspore_1.7.0-cann_5.1.0-py_3.7-euler_2.8.3-aarch64                | CANN 5.1.0                       |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       |                |                     |                | mindspore_1.6.1-cann_5.0.4-py_3.7-euler_2.8.3-aarch64                | CANN 5.0.4                       |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       |                |                     |                | tensorflow_1.15.0-cann_5.1.0-py_3.7-euler_2.8.3-aarch64              | CANN 5.1.0                       |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       |                |                     |                | tensorflow_1.15-cann_5.0.4-py_3.7-euler_2.8.3-aarch64                | CANN 5.0.4                       |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       |                |                     |                | pytorch_1.5-cann_5.0.4-py_3.7-euler_2.8.3-aarch64                    | CANN 5.0.4                       |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       |                |                     |                | pytorch_1.8.1-cann_5.1.0-py_3.7-euler_2.8.3-aarch64                  | CANN 5.1.0                       |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | MPI                   | CPU and GPU    | x86_64              | Ubuntu 18.04   | mindspore_1.3.0-cuda_10.1-py_3.7-ubuntu_1804-x86_64                  | CUDA 10.1                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   | Horovod               | GPU            | x86_64              | Ubuntu18.04    | horovod_0.20.0-tensorflow_2.1.0-cuda_10.1-py_3.7-ubuntu_18.04-x86_64 | CUDA 10.1                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+
   |                       |                |                     |                | horovod_0.22.1-pytorch_1.8.0-cuda_10.2-py_3.7-ubuntu_18.04-x86_64    | CUDA 10.2                        |
   +-----------------------+----------------+---------------------+----------------+----------------------------------------------------------------------+----------------------------------+

Model Inference
---------------

The following table lists the AI engines and their runtime supported by the AI applications that are created using an imported model and that use ModelArts for inference.

.. table:: **Table 5** Supported AI engines and their runtime

   +-----------------------------------+-----------------------------------+
   | Engine                            | Runtime                           |
   +===================================+===================================+
   | TensorFlow1.8                     | TensorFlow-py36 general template  |
   |                                   |                                   |
   |                                   | TensorFlow-py27 general template  |
   +-----------------------------------+-----------------------------------+
   | MXNet1.2.1                        | MXNet-py37 general template       |
   |                                   |                                   |
   |                                   | MXNet-py27 general template       |
   +-----------------------------------+-----------------------------------+
   | Caffe1.0 GPU                      | Caffe-GPU-py37 general template   |
   |                                   |                                   |
   |                                   | Caffe-GPU-py27 general template   |
   +-----------------------------------+-----------------------------------+
   | Caffe1.0 CPU                      | Caffe-CPU-py37 general template   |
   |                                   |                                   |
   |                                   | Caffe-CPU-py27 general template   |
   +-----------------------------------+-----------------------------------+
   | PyTorch1.0                        | PyTorch-py37 general template     |
   |                                   |                                   |
   |                                   | PyTorch-py27 general template     |
   +-----------------------------------+-----------------------------------+
